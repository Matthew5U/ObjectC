----------------------------------------------------------------------------------------------------------------------------------------------
INSTRUKCJA BUDOWY STRONY 
----------------------------------------------------------------------------------------------------------------------------------------------


__________________________________________WYGLAD STRONY______________________________________________________________________________________


|-------------------------------------------------------------------------------------------------|
|                                        header.php (get_header())                                |
|-------------------------------------------------------------------------------------------------|
|-------------------------------------------------------------------------------------------------|
|wp_nav_menu(); - glowne menu nawigacji                              | get_search_form();         |
|-------------------------------------------------------------------------------------------------|
|-------------------------------------------------------------------------------------------------|
|                                                                    |                            |
|                                                                    |                            |                            
|    PETLA (THE LOOP)                                                |                            |
|                                                                    |                            |
|                                                                    |                            |
|    Przykaldowe pliki:                                              |                            |
|                                                                    |                            |
|    index.php                                                       |                            |
|    home.php                                                        | sidebar.php                |                          
|    archive.php                                                     |                            |
|                                                                    | getsidebar();              |
|                                                                    |                            |
|    page.php                                                        |                            |
|                comments_template();                                |                            |
|    single.php                                                      |                            |
|                                                                    |W sidebarze na ogol znajduja|
|                                                                    |sie Widgety, ktore mozna    |
|    search.php                                                      |definiowac w Kokpicie       |
|    author.php                                                      |                            |
|    404.php                                                         |                            |
|                                                                    |                            |
|-------------------------------------------------------------------------------------------------|
|-------------------------------------------------------------------------------------------------|
|                                        footer.php get footer();                                 |
|-------------------------------------------------------------------------------------------------|


__________________________________________OPIS STRONY________________________________________________________________________________________


    index.php           Strona glowna i jednoczesnie domyslna dla innych
    header.php          Na gorzej kazdej strony

    page.php            Szablon contentu dla statycznych stron
    single.php          Szablon dla widoku postow
    search.php          Strona wynikow wyszukiwania
    image.php           Widok otwartego obrazka 
    archive.php         Wyswietla wszystkie posty z taksonomii
    archives.php        Lista archiwow z wyszukiwarka, zakresem dat, kategoriami
    links.php           Jesli korzystasz z blogroll - lista linkow
    comments.php        Widok komentarzy

    sidebar.php         Wyglad sidebara

    footer.php          Na odle kazdej strony

    404.php             Strona wyswietlana przy blednym linku
    screenshot.png      Miniaturka szablonu 300x255


__________________________________________STRUKTURA STRONY___________________________________________________________________________________


    is_home()----------------------------------------------------------------------------------|home.php      |----------------\
    is_front_page()----------------------------------------------------------------------------|front-page.php|---------------\ \
    is_404()-----------------------------------------------------------------------------------|404.php       |--------------\ \ \
    is_search()--------------------------------------------------------------------------------|search.php    |-------------\ \ \ \
    is_date()----------------------------------------------------------------------------------|date.php      |--\           \ \ \ \
    is_author()---------------------------|author-nicename.php       |-|author-id.php        |-|author.php    |-\ \           \ \ \ \
    is_category()-------------------------|category-slug.php         |-|category-id.php      |-|category.php  |-|archive.php|-|index.php|
    is_tag()------------------------------|tag-slug.php              |-|tag-id.php           |-|tag.php       |-/ / /         / /
    is_tax()------------------------------|taxonomy-taxonomy-team.php|-|taxonomy-taxonomy.php|-|taxonomy.php  |--/ /         / /
    is_archive()-------------------------------------------------------|archive-posttype.php |--------------------/         / /
    is_single()--------------------------------------------------------|single-posttype.php  |\                            / /
                                                                                               >-|single.php  |-----------/ /     
    is_content()--------------------------|MIME_type.php             |-|attachment.php       |/                            /  
    is_page()-------|custom_template.php|-|page-slug.php             |-|page-id.php          |-|page.php      |-----------/



__________________________________________BUDOWA STRONY_______________________________________________________________________________________


    Deklaracja wlasnego Motywu (Budowanie strony w oparciu o istniejaca strone)
        1. Przechodzimy do wordpressa > wp-content > themes 
        2. Tworzymy folder ktory bedzie trzymal nasz motyw
        3. Towrzymy plik style.css
            ______________________________KOD_________________________________________________________________________________________________
            
            /*

            Theme Name: LoveToEat
            Theme URI: http://lovetoeat.pl
            Description: Motym dla strony z przepisami kulinarnymi
            Author: Eduweb.pl
            Author URI: http://eduweb.pl
            Version: 0.5

            */
            __________________________________________________________________________________________________________________________________
        
        4. Tworzymy miniaturke szablonu wyswietlanego w wordpress
        5. Towrzymy plik index.php i przezucamy zawratosc pliku index.html z gotowej strony
            ______________________________KOD_________________________________________________________________________________________________
            <!DOCTYPE html>
            <html lang="pl-PL">
                <head>
                    <meta charset="UTF-8" />

                    <title>LoveToEat Home Page</title>

                    <link rel="stylesheet" href="css/reset.css">
                    <link rel="stylesheet" href="css/common.css">
                    <link rel="stylesheet" href="css/screen.css">
                    <link rel="stylesheet" href="css/jqtransform.css">

                    <!--[if lt IE 9]>
                    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
                    <![endif]-->

                    <script src="js/jquery-1.9.1.min.js"></script>
                    <script src="js/jquery.carouFredSel-6.2.0.js"></script>
                    <script src="js/jquery.jqtransform.js"></script>
                    <script src="js/slides.jquery.js"></script>
                    <script src="js/scripts.js"></script>
                </head>

                <body>

                    <header>
                        <div class="pos-center">
                            <h1><a href="#">lovetoeat.pl</a></h1>

                            <nav id="main-nav">
                                <div>
                                    <ul class="menu">
                                        <li>
                                            <a href="#">Przepisy</a>
                                            <ul class="sub-menu">
                                                <li><a href="#" title="lunch">Obiad i kolacja</a></li>
                                                <li><a href="#" title="breakfast">Śniadanie</a></li>
                                                <li><a href="#" title="snacks">Przekąski</a></li>
                                                <li><a href="#" title="desserts">Desery</a></li>
                                                <li><a href="#" title="drinks">Drinki i Napoje</a></li>
                                                <li><a href="#" title="all">Wszystkie</a></li>
                                            </ul>
                                        </li>
                                        <li><a href="#">Restauracje</a></li>
                                        <li><a href="#">Food Fight</a></li>
                                        <li class="current-menu-item"><a href="#">Blog</a></li>
                                        <li><a href="#">Kontakt</a></li>
                                    </ul>
                                </div>                    
                            </nav>
                        </div>
                    </header>
                    
                    <section id="header" class="home-slider">

                        <div class="wooden">
                            <div class="pos-center">
                                
                                <div class="slides">

                                    <div class="item pepers">
                                        <div class="caption">
                                            <h3>Czerwone papryczki!</h3>
                                            <p>
                                                Papryka ostra – ogólna nazwa, jaką określa się owoce niektórych odmian, kultywarów i mieszańców papryki (Capsicum) o bardzo ostrym smaku
                                                <a href="#">Czytaj artykuł</a>
                                            </p>
                                        </div>
                                        <img src="content/header-big-peppers1.png" alt="" />
                                    </div>

                                    <div class="item pepers">
                                        <div class="caption">
                                            <h3>Czerwone papryczki!</h3>
                                            <p>
                                                Papryka ostra – ogólna nazwa, jaką określa się owoce niektórych odmian, kultywarów i mieszańców papryki (Capsicum) o bardzo ostrym smaku
                                                <a href="#">Czytaj artykuł</a>
                                            </p>
                                        </div>
                                        <img src="content/header-big-peppers2.png" alt="" />
                                    </div>

                                    <div class="item pepers">
                                        <div class="caption">
                                            <h3>Czerwone papryczki!</h3>
                                            <p>
                                                Papryka ostra – ogólna nazwa, jaką określa się owoce niektórych odmian, kultywarów i mieszańców papryki (Capsicum) o bardzo ostrym smaku
                                                <a href="#">Czytaj artykuł</a>
                                            </p>
                                        </div>
                                        <img src="content/header-big-peppers3.png" alt="" />
                                    </div>

                                    <div class="item pepers">
                                        <div class="caption">
                                            <h3>Czerwone papryczki!</h3>
                                            <p>
                                                Papryka ostra – ogólna nazwa, jaką określa się owoce niektórych odmian, kultywarów i mieszańców papryki (Capsicum) o bardzo ostrym smaku
                                                <a href="#">Czytaj artykuł</a>
                                            </p>
                                        </div>
                                        <img src="content/header-big-peppers4.png" alt="" />
                                    </div>
                                </div>

                                <div class="pagination">
                                    <ul>
                                        <li><a href="#">1</a></li>
                                        <li><a href="#">2</a></li>
                                        <li class="active"><a href="#">3</a></li>
                                        <li><a href="#">4</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <section class="caption quote">
                            <div class="pos-center">
                                <blockquote>
                                    <p>“W gospodarce opartej na wiedzy możemy mieć ciastko, zjeść ciastko i upiec jeszcze trzecie.”</p>
                                </blockquote>
                            </div>
                        </section>

                        <div class="gradient">
                            <div class="pos-center">&nbsp;</div>
                        </div>
                    </section>

                    <section id="home" class="content">
                        <section class="boxes">
                            <div class="pos-center">

                                <section class="box first">
                                    <div class="step1">
                                        <h2>Witaj w lovetoeat!</h2>
                                        <p>Witaj w świecie prawdziwych kulinarnych inspiracji! Jesteśmy pasjonatami dobrego jedzenia i chcemy w pięknej formie podzielić się z Tobą naszymi zainteresowaniami.</p>
                                    </div>
                                </section>

                                <section class="box second">
                                    <div class="step1">
                                        <h2>Przepisy i Dieta</h2>
                                        <p>Na lovetoeat.pl znajdziesz między innymi dziesiątki zdrowych przepisów, które przygotowali dla Ciebie nasi dietetycy. Najlepsze przepisy wyślij znajomym!</p>
                                    </div>
                                    <div class="step2 hidden">
                                        <h2>Ostatnio dodane:</h2>

                                        <ul class="icons-list">
                                            <li class="chicken"><a href="#">Sałatka z chrupiącym indykiem</a></li>
                                            <li class="chicken"><a href="#">Bagietka francuska</a></li>
                                            <li class="chicken"><a href="#">Zapiekanka krakowska</a></li>
                                            <li class="chicken"><a href="#">Sałatka z chrupiącym kurczakiem</a></li>
                                            <li class="chicken"><a href="#">Schab po węgiersku</a></li>
                                        </ul>
                                        <a href="#">Wszystkie przepisy</a>
                                    </div>
                                </section>

                                <section class="box third">
                                    <div class="step1">
                                        <h2>Dobre Restauracje</h2>
                                        <p>Odkryj ciekawe miejsca i dowiedz się, które potrawy warto zjeść w restauracjach, które dla Ciebie recenzujemy. Sprawdź restauracje w których bywają Twoi znajomi.</p>
                                    </div>
                                    <div class="step2 hidden">
                                        <h2>Ostatnio dodane:</h2>

                                        <ul class="icons-list">
                                            <li class="waiter"><a href="#">Restauracja Da Pietro</a></li>
                                            <li class="waiter"><a href="#">Miód Malina</a></li>
                                            <li class="waiter"><a href="#">Trattoria Mamma Mia</a></li>
                                            <li class="waiter"><a href="#">Pod Wawelem</a></li>
                                            <li class="waiter"><a href="#">Pomodorino</a></li>
                                        </ul>
                                        <a href="#">Wszystkie</a>
                                    </div>
                                </section>

                            </div>
                        </section>

                        <section class="food-fight">
                            <div class="pos-center">
                                <header>
                                    <h2>Food Fight</h2>
                                    <h4>Wszystkie pojedynki</h4>
                                </header>

                                <div class="opponent good">
                                    <div class="header">
                                        <small>Jedz</small>
                                        to!
                                    </div>
                                    <div class="details">
                                        1.4
                                        <small>tłuszcz</small>
                                    </div>
                                    <div class="image">
                                        <img src="content/food-fight-mcchicken.jpg" alt="" />
                                    </div>
                                    <p>Potrawa 1</p>
                                </div>

                                <div class="opponent bad">
                                    <div class="header">
                                        <small>nie</small>
                                        to!
                                    </div>
                                    <div class="details">
                                        2.1
                                        <small>tłuszcz</small>
                                    </div>
                                    <div class="image">
                                        <img src="content/food-fight-spremium.jpg" alt="" />
                                    </div>
                                    <p>Potrawa 2</p>
                                </div>
                            </div>
                        </section>

                        <section class="inspirations">
                            <div class="pos-center">
                                <header>
                                    <h2>Kulinarne inspiracje</h2>
                                    <h4>Zobacz wszystkie artykuły</h4>
                                </header>

                                <div class="slider">
                                    <a class="prev" href="#">&LeftArrow;</a>
                                    <div class="slides-container">
                                        <div class="items">


                                            <div>
                                                <a href="#"><img src="content/home-slider-1.jpg" alt="" /></a>
                                                <h2><a href="#">Sałatka z chrupiącym kurczakiem</a></h2>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sed magna orci, eget egestas tellus. Mauris id lectus lorem, et condimentum est. Nam auctor venenatis arcu, eget [...]</p>
                                                <a class="more" href="#">...</a>
                                            </div>


                                            <div>
                                                <a href="#"><img src="content/home-slider-2.jpg" alt="" /></a>
                                                <h2><a href="#">Sałatka z chrupiącym indykiem</a></h2>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sed magna orci, eget egestas tellus. Mauris id lectus lorem, et condimentum est. Nam auctor venenatis arcu, eget [...]</p>
                                                <a class="more" href="#">...</a>
                                            </div>

                                            <div>
                                                <a href="#"><img src="content/home-slider-3.jpg" alt="" /></a>
                                                <h2><a href="#">Sałatka z chrupiącym indykiem</a></h2>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sed magna orci, eget egestas tellus. Mauris id lectus lorem, et condimentum est. Nam auctor venenatis arcu, eget [...]</p>
                                                <a class="more" href="#">...</a>
                                            </div>
                                            
                                            <div>
                                                <a href="#"><img src="content/home-slider-1.jpg" alt="" /></a>
                                                <h2><a href="#">Sałatka z chrupiącym kurczakiem</a></h2>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sed magna orci, eget egestas tellus. Mauris id lectus lorem, et condimentum est. Nam auctor venenatis arcu, eget [...]</p>
                                                <a class="more" href="#">...</a>
                                            </div>


                                            <div>
                                                <a href="#"><img src="content/home-slider-2.jpg" alt="" /></a>
                                                <h2><a href="#">Sałatka z chrupiącym indykiem</a></h2>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sed magna orci, eget egestas tellus. Mauris id lectus lorem, et condimentum est. Nam auctor venenatis arcu, eget [...]</p>
                                                <a class="more" href="#">...</a>
                                            </div>

                                            <div>
                                                <a href="#"><img src="content/home-slider-3.jpg" alt="" /></a>
                                                <h2><a href="#">Sałatka z chrupiącym indykiem</a></h2>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sed magna orci, eget egestas tellus. Mauris id lectus lorem, et condimentum est. Nam auctor venenatis arcu, eget [...]</p>
                                                <a class="more" href="#">...</a>
                                            </div>

                                        </div>
                                    </div>
                                    <a class="next" href="#">&RightArrow;</a>
                                </div>

                            </div>
                        </section>

                        <section class="comments">
                            <div class="pos-center">
                                <header>
                                    <h2>Poznaj opinie innych</h2>
                                    <h4><a href="#">Zobacz wszystkie komentarze</a></h4>
                                </header>

                                <section class="container">
                                    <span class="flyer">&uArr;</span>

                                    <section class="first">
                                        <header>
                                            <small>Janusz w dniu 09.04.2013</small>
                                            Sałatka z chrupiącym [...]
                                        </header>
                                        <img alt='' src='content/avatar-janusz.png' />                        
                                        <blockquote>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sed magna orci, eget egestas tellus. Mauris id lectus lorem, et condimentum est.</blockquote>
                                    </section>


                                    <section>
                                        <header>
                                            <small>Kasia w dniu 23.03.2013</small>
                                            Bagietka francuska
                                        </header>
                                        <img alt='' src='content/avatar-kasia.png' />
                                        <blockquote>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sed magna orci, eget egestas tellus. Mauris id lectus lorem, et condimentum est.</blockquote>
                                    </section>


                                    <section class="last">
                                        <header>
                                            <small>Roman w dniu 23.03.2013</small>
                                            Schab po węgiersku
                                        </header>
                                        <img alt='' src='content/avatar-roman.png' />
                                        <blockquote>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sed magna orci, eget egestas tellus. Mauris id lectus lorem, et condimentum est.</blockquote>
                                    </section>

                                    <div class="clear"></div>
                                </section>
                            </div>
                        </section>
                    </section>

                    <footer>
                        <div class="pos-center">
                            <section class="menu">
                                <ul>
                                    <li><a href="#">Pomidor</a></li>
                                    <li><a href="#">Pietruszka</a></li>
                                    <li><a href="#">Makaron</a></li>
                                    <li><a href="#">Warzywa</a></li>
                                    <li><a href="#">Kurczak</a></li>
                                </ul>
                                <ul>
                                    <li><a href="#">Kuchnia japońska</a></li>
                                    <li><a href="#">Włoskie smaki</a></li>
                                    <li><a href="#">Hiszpańskie tapas</a></li>
                                    <li><a href="#">Kuchnia tajska</a></li>
                                    <li><a href="#">Kuchnia francuska</a></li>
                                </ul>
                                <ul>
                                    <li><a href="#">Lunch</a></li>
                                    <li><a href="#">Przystawka</a></li>
                                    <li><a href="#">śniadanie</a></li>
                                    <li><a href="#">Obiad</a></li>
                                    <li><a href="#">Deser</a></li>
                                </ul>
                            </section>

                            <section class="tag-cloud">
                                <a href='#' title='2 tematy' style='font-size: 16.5px;'>kurczak</a>
                                <a href='#' title='1 temat' style='font-size: 11px;'>makaron</a>
                                <a href='#' title='1 temat' style='font-size: 13px;'>pietruszka</a>
                                <a href='#' title='1 temat' style='font-size: 11px;'>pomidor</a>
                                <a href='#' title='2 tematy' style='font-size: 16.5px;'>sałata</a>
                                <a href='#' title='1 temat' style='font-size: 10px;'>warzywa</a>
                                <a href='#' title='1 temat' style='font-size: 13px;'>pietruszka</a>
                                <a href='#' title='2 tematy' style='font-size: 16.5px;'>kurczak</a>
                                <a href='#' title='1 temat' style='font-size: 11px;'>makaron</a>
                                <a href='#' title='1 temat' style='font-size: 11px;'>pomidor</a>
                                <a href='#' title='2 tematy' style='font-size: 16.5px;'>kurczak</a>
                                <a href='#' title='1 temat' style='font-size: 11px;'>makaron</a>
                                <a href='#' title='1 temat' style='font-size: 13px;'>pietruszka</a>
                            </section>
                        </div>
                    </footer>


                </body>
            </html>
            __________________________________________________________________________________________________________________________________

        6. Z gotowej strony html wyjmujemy foldery i wrzucamy do naszego folderu z motywem
            - Wyjmujemy asset ktore zawiera fonty
            - Content - Modeluje tresci dla elementow dynamicznych
            - CSS - pliki css ktore tworzylismy
            - Img - folder z obrazkami
            - Js - folder z javascript
        7. Przechodimy do glownego folderu naszego motywu
            - Tworzymy header.php 
            - Tworzymy footer.php
        8. Wyciamy kod z index.php i wrzucamy do header.php
            ______________________________KOD_________________________________________________________________________________________________
            <!DOCTYPE html>
            <html lang="pl-PL">
                <head>
                    <meta charset="UTF-8" />

                    <title>LoveToEat Home Page</title>

                    <link rel="stylesheet" href="css/reset.css">
                    <link rel="stylesheet" href="css/common.css">
                    <link rel="stylesheet" href="css/screen.css">
                    <link rel="stylesheet" href="css/jqtransform.css">

                    <!--[if lt IE 9]>
                    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
                    <![endif]-->

                    <script src="js/jquery-1.9.1.min.js"></script>
                    <script src="js/jquery.carouFredSel-6.2.0.js"></script>
                    <script src="js/jquery.jqtransform.js"></script>
                    <script src="js/slides.jquery.js"></script>
                    <script src="js/scripts.js"></script>
                </head>

                <body>

                    <header>
                        <div class="pos-center">
                            <h1><a href="#">lovetoeat.pl</a></h1>

                            <nav id="main-nav">
                                <div>
                                    <ul class="menu">
                                        <li>
                                            <a href="#">Przepisy</a>
                                            <ul class="sub-menu">
                                                <li><a href="#" title="lunch">Obiad i kolacja</a></li>
                                                <li><a href="#" title="breakfast">Śniadanie</a></li>
                                                <li><a href="#" title="snacks">Przekąski</a></li>
                                                <li><a href="#" title="desserts">Desery</a></li>
                                                <li><a href="#" title="drinks">Drinki i Napoje</a></li>
                                                <li><a href="#" title="all">Wszystkie</a></li>
                                            </ul>
                                        </li>
                                        <li><a href="#">Restauracje</a></li>
                                        <li><a href="#">Food Fight</a></li>
                                        <li class="current-menu-item"><a href="#">Blog</a></li>
                                        <li><a href="#">Kontakt</a></li>
                                    </ul>
                                </div>                    
                            </nav>
                        </div>
                    </header>
            __________________________________________________________________________________________________________________________________

        9. Do index.php na samej gorze wpisujemy
            ______________________________KOD_________________________________________________________________________________________________
            <?php get_header(); ?>
            __________________________________________________________________________________________________________________________________
        
        10. Pzechodzimy do headera.php i zamieniamy podlinkowanie linkow na linki dynamiczne dzieki templet tags
            ______________________________KOD_________________________________________________________________________________________________
            <meta charset="<?php bloginfo('charset') ?>" />     <!-- <meta charset="UTF-8" /> -->
            
            <link rel="stylesheet" href="<?php echo get_stylesheet_uri(); ?>"> <!-- Wypisz link do glownego pliku z css -->
		    <link rel="stylesheet" href="<?php echo get_template_directory_uri(); ?>/css/reset.css"> <!-- <link rel="stylesheet" href="css/reset.css"> -->
		    <link rel="stylesheet" href="<?php echo get_template_directory_uri(); ?>/css/common.css"> <!-- <link rel="stylesheet" href="css/common.css"> -->
		    <link rel="stylesheet" href="<?php echo get_template_directory_uri(); ?>/css/screen.css"> <!-- <link rel="stylesheet" href="css/screen.css"> -->
		    <link rel="stylesheet" href="<?php echo get_template_directory_uri(); ?>/css/jqtransform.css"> <!-- <link rel="stylesheet" href="css/jqtransform.css"> -->

            __________________________________________________________________________________________________________________________________
        
        11. Tworzymy plik functions.php w glownym folderze i zapisujemy kod
            ______________________________KOD_________________________________________________________________________________________________
            <?php
            
            if(!defined('LOVETOEAT_THEME_DIR')) { // Jesli taka stala nie zostal wczesniej zdefiniowana
	        //define('LOVETOEAT_THEME_DIR', ABSPATH.'wp-content/themes/'.get_template().'/'); // Wykorzystanie absolutepath
	        define('LOVETOEAT_THEME_DIR', get_theme_root().'/'.get_template().'/'); // definiujemy stala ktora bedzie pobierac sciezke do katalogu z wszystkimi moywami.
            }	

            if(!defined('LOVETOEAT_THEME_URL')) { // Jesli nie zostala wczesniej zdefiniowana
	        define('LOVETOEAT_THEME_URL', WP_CONTENT_URL.'/themes/'.get_template().'/'); // stala zwroci nam adres katalogu wp content
            }

            ?>
            __________________________________________________________________________________________________________________________________
        
        12. W style.css wpisujemy style dla info (stale w function)
            ______________________________KOD_________________________________________________________________________________________________
            .wpinfo {
	        display: block;
	        min-height: 200px;
	        background: red;
	        color: white;
	        font-size: 1.5em;
            }
            __________________________________________________________________________________________________________________________________
        
        13. W header.php za zancznikiem <body> wpisujemy dany kod ktory bedzie nam wyswietlal info o stalych
            ______________________________KOD_________________________________________________________________________________________________
            <!-- <span class="wpinfo"><?php echo LOVETOEAT_THEME_DIR ?></span> -->
            <!-- <span class="wpinfo"><?php echo LOVETOEAT_THEME_URL ?></span> -->
            __________________________________________________________________________________________________________________________________
       
        14. W header.php modyfikujemy kod
            ______________________________KOD_________________________________________________________________________________________________
            <script src="<?php echo LOVETOEAT_THEME_URL ?>js/jquery-1.9.1.min.js"></script> <!-- <script src="js/jquery-1.9.1.min.js"></script> -->
            <script src="<?php echo LOVETOEAT_THEME_URL ?>js/jquery.carouFredSel-6.2.0.js"></script> <!-- <script src="js/jquery.carouFredSel-6.2.0.js"></script> -->
            <script src="<?php echo LOVETOEAT_THEME_URL ?>js/jquery.jqtransform.js"></script> <!-- <script src="js/jquery.jqtransform.js"></script> -->
            <script src="<?php echo LOVETOEAT_THEME_URL ?>js/slides.jquery.js"></script><!-- <script src="js/slides.jquery.js"></script> -->
            <script src="<?php echo LOVETOEAT_THEME_URL ?>js/scripts.js"></script> <!-- <script src="js/scripts.js"></script> -->
            __________________________________________________________________________________________________________________________________
        
        15. W header.php zamienimy jezyk dynamicznie
            ______________________________KOD_________________________________________________________________________________________________
            <html <?php language_attributes(); ?>> <!- <html lang="pl-PL"> -->
            __________________________________________________________________________________________________________________________________
       
        16. W header.php dodajemy kod ktory sprawdzimy czy na stronie na ktorej znajduje sie uzytkownik jest strona wyszukiwania 
            ______________________________KOD_________________________________________________________________________________________________
            <?php if(is_search()):?>
			    <meta name="robots" content="noindex, nofollw" /> // zabraniamy robotom indexowania tresci
		    <?php endif; ?> 
            __________________________________________________________________________________________________________________________________

        17. W header.php dodajemy  mechanizm do pinbackow
            ______________________________KOD_________________________________________________________________________________________________
		    <link rel="pingback" href="<?php bloginfo('pingback_url'); ?>" >
            __________________________________________________________________________________________________________________________________

        18. W header.php zwracamy wszystkie tagi ktore maja isc do heada 
            ______________________________KOD_________________________________________________________________________________________________
            <?php wp_head() ?>
            __________________________________________________________________________________________________________________________________

        19. W header.php w eskcji body dodajemy funkcje. Dopisze do body w zaleznosci od tego na jakiej stronie jest
            ______________________________KOD_________________________________________________________________________________________________
            <body <?php body_class()?>> <!-- <body> -->
            __________________________________________________________________________________________________________________________________

        20. W header.php linkujemy logo
            ______________________________KOD_________________________________________________________________________________________________
            <h1><a href="<?php echo esc_url(home_url('/')); ?>">lovetoeat.pl</a></h1> // Link do strony glownej
            __________________________________________________________________________________________________________________________________

        21. Z pliku index.php wycinamy footer i wkeljamy do pliku footer.php
            ______________________________KOD_________________________________________________________________________________________________
                    <footer>
                        <div class="pos-center">
                            <section class="menu">
                                <ul>
                                    <li><a href="#">Pomidor</a></li>
                                    <li><a href="#">Pietruszka</a></li>
                                    <li><a href="#">Makaron</a></li>
                                    <li><a href="#">Warzywa</a></li>
                                    <li><a href="#">Kurczak</a></li>
                                </ul>
                                <ul>
                                    <li><a href="#">Kuchnia japońska</a></li>
                                    <li><a href="#">Włoskie smaki</a></li>
                                    <li><a href="#">Hiszpańskie tapas</a></li>
                                    <li><a href="#">Kuchnia tajska</a></li>
                                    <li><a href="#">Kuchnia francuska</a></li>
                                </ul>
                                <ul>
                                    <li><a href="#">Lunch</a></li>
                                    <li><a href="#">Przystawka</a></li>
                                    <li><a href="#">śniadanie</a></li>
                                    <li><a href="#">Obiad</a></li>
                                    <li><a href="#">Deser</a></li>
                                </ul>
                            </section>

                            <section class="tag-cloud">
                                <a href='#' title='2 tematy' style='font-size: 16.5px;'>kurczak</a>
                                <a href='#' title='1 temat' style='font-size: 11px;'>makaron</a>
                                <a href='#' title='1 temat' style='font-size: 13px;'>pietruszka</a>
                                <a href='#' title='1 temat' style='font-size: 11px;'>pomidor</a>
                                <a href='#' title='2 tematy' style='font-size: 16.5px;'>sałata</a>
                                <a href='#' title='1 temat' style='font-size: 10px;'>warzywa</a>
                                <a href='#' title='1 temat' style='font-size: 13px;'>pietruszka</a>
                                <a href='#' title='2 tematy' style='font-size: 16.5px;'>kurczak</a>
                                <a href='#' title='1 temat' style='font-size: 11px;'>makaron</a>
                                <a href='#' title='1 temat' style='font-size: 11px;'>pomidor</a>
                                <a href='#' title='2 tematy' style='font-size: 16.5px;'>kurczak</a>
                                <a href='#' title='1 temat' style='font-size: 11px;'>makaron</a>
                                <a href='#' title='1 temat' style='font-size: 13px;'>pietruszka</a>
                            </section>
                        </div>
                    </footer>


                </body>
            </html>
            __________________________________________________________________________________________________________________________________
        
        22. A w pliku inex.php wyciety footer zastepujemy podlinkowaniem
            ______________________________KOD_________________________________________________________________________________________________
            <?php get_footer(); ?>
            __________________________________________________________________________________________________________________________________

        23. Tworzymy folder libs
        24. W folderze libs tworzymy plik ktore pozniej mozna przezuci do innego motywu
        25. Tworzymy pliki utils.php
        26. Tworzymy plik posttypes.php - zawiera deklaracje costomowych typow postow oraz taksonomi
            ______________________________KOD_________________________________________________________________________________________________
            <?php // zamykamy go w punkcie 29

            add_action('init', 'lovetoeat_init_posttypes'); // Funkcja

            function lovetoeat_init_posttypes(){
            
                /*
                * Register Recipes Post Type
                // Tworzymy panel do dodawania przepisow
                */
                $recipes_args = array( // zmiena przepisy o strukturze tablicy
                    'labels' => array( // tablica
                        'name' => 'Przepisy', // nazwa na przepisy
                        'singular_name' => 'Przpisy', // uproszczona nazwa
                        'all_items' => 'Wszystkie przepisy', 
                        'add_new' => 'Dodaj nowy przepis', 
                        'add_new_item' => 'Dodaj nowy przepis',
                        'edit_item' => 'Edytuj przepis',
                        'new_item' => 'Nowy przepis',
                        'view_item' => 'Zobacz przepis',
                        'search_items' => 'Szukaj w przepisach',
                        'not_found' =>  'Nie znaleziono żadnych przepisów',
                        'not_found_in_trash' => 'Nie znaleziono żadnych przepisów w koszu', 
                        'parent_item_colon' => ''
                    ),
                    // wazenisjze wlasciwosic | strona wordpress.org/Function_Reference/register_post_type
                    'public' => true, // typ posta bedzie publicczny
                    'publicly_queryable' => true, // czy mozna wysylac zapytanie
                    'show_ui' => true,  // pokazywanie elemenow ui (przyciski)
                    'query_var' => true,
                    'rewrite' => true, // przepisywanie adresow
                    'capability_type' => 'post', 
                    'hierarchical' => false, // hierarichcznosc typow tworzonych danych np. page - strony
                    'menu_position' => 5, // umiejscowienie w menu | 5-below posts  
                    'supports' => array( // tablica z wartosciami symbolizujacymi jakie funkconalnosci wspiera typ posta
                        'title','editor','author','thumbnail','excerpt','comments','custom-fields'
                    ),
                    'has_archive' => true // czy bedzie mial swoje archiwum

                );

                register_post_type('recipes', $recipes_args); // rejestrujemy typ postow przez funkcje wordpressa
    
                /*
                * Register Restaurant Post Type
                */
                $restaurants_args = array(
                    'labels' => array(
                        'name' => 'Restauracje',
                        'singular_name' => 'Restauracje',
                        'all_items' => 'Wszystkie restauracje',
                        'add_new' => 'Dodaj nową restaurację',
                        'add_new_item' => 'Dodaj nową restaurację',
                        'edit_item' => 'Edytuj restaurację',
                        'new_item' => 'Nowa restauracja',
                        'view_item' => 'Zobacz restaurację',
                        'search_items' => 'Szukaj restauracji',
                        'not_found' =>  'Nie znaleziono żadnych restauracji',
                        'not_found_in_trash' => 'Nie znaleziono żadnych restauracji w koszu', 
                        'parent_item_colon' => ''
                    ),
                    'public' => true,
                    'publicly_queryable' => true,
                    'show_ui' => true, 
                    'query_var' => true,
                    'rewrite' => true,
                    'capability_type' => 'post',
                    'hierarchical' => false,
                    'menu_position' => 5,
                    'supports' => array(
                        'title','editor','author','thumbnail','excerpt','comments','custom-fields', 'post-formats'
                    ),
                    'has_archive' => true
                    
                );
                
                register_post_type('restaurants', $restaurants_args); 
                
                /*
                * Register Food Fight Post Type
                */
                $food_fights_args = array(
                    'labels' => array(
                        'name' => 'Food Fight',
                        'singular_name' => 'Food Fight',
                        'all_items' => 'Wszystkie pojedynki',
                        'add_new' => 'Dodaj nowy pojedynek',
                        'add_new_item' => 'Dodaj nowy pojedynek',
                        'edit_item' => 'Edytuj pojedynek',
                        'new_item' => 'Nowy pojedynek',
                        'view_item' => 'Zobacz pojedynek',
                        'search_items' => 'Szukaj pojedynku',
                        'not_found' => 'Nie znaleziono żadnych pojedynków',
                        'not_found_in_trash' => 'Nie znaleziono żadnych pojedynków w koszu', 
                        'parent_item_colon' => ''
                    ),
                    'public' => true,
                    'publicly_queryable' => true,
                    'show_ui' => true, 
                    'query_var' => true,
                    'rewrite' => true,
                    'capability_type' => 'post',
                    'hierarchical' => false,
                    'menu_position' => 5,
                    'supports' => array(
                        'title','editor','author','thumbnail','custom-fields'
                    ),
                    'has_archive' => true
                    
                );
                
                register_post_type('foodfight', $food_fights_args);
            } 
            __________________________________________________________________________________________________________________________________

        27. Przechodzimy do pliku functions.php i wywolujemy plik posttypes.php
            ______________________________KOD_________________________________________________________________________________________________
            require_once LOVETOEAT_THEME_DIR.'libs/posttypes.php';
            __________________________________________________________________________________________________________________________________

        28. W posttypes.php - deklarujemy taksonomie
            ______________________________KOD_________________________________________________________________________________________________
            add_action('init', 'lovetoeat_init_taxonomies');
    
            /* rejestruje taksonomie */
            
            function lovetoeat_init_taxonomies(){
                
                // Ingredients
                register_taxonomy(
                    'ingredients', // pierwsz taksonomia skladnikow w naszej potrawie
                    array('recipes'),
                    array(
                        /* robimy jednak hieraerchiczne ponieważ wykorzystujemy w lodówce*/
                        'hierarchical' => true,
                        'labels' => array(
                            'name' => 'Składniki',
                            'singular_name' => 'Składniki',
                            'search_items' =>  'Wyszukaj składniki',
                            'popular_items' => 'Najpopularniejsze składniki',
                            'all_items' => 'Wszystkie składniki',
                            'most_used_items' => null,
                            'parent_item' => null,
                            'parent_item_colon' => null,
                            'edit_item' => 'Edytuj składnik', 
                            'update_item' => 'Aktualizuj składnik',
                            'add_new_item' => 'Dodaj nowy składnik',
                            'new_item_name' => 'Nazwa nowego skadnika',
                            'separate_items_with_commas' => 'Oddziel składniki przecinkiem',
                            'add_or_remove_items' => 'Dodaj lub usuń składniki',
                            'choose_from_most_used' => 'Wybierz spośród najczęścież używanych składników',
                            'menu_name' => 'Składniki',
                        ),
                        'show_ui' => true, // ukazuje interfejs graficzny
                        'update_count_callback' => '_update_post_term_count', // automatczny callback. Hook ktory mozna wykorzystaac
                        'query_var' => true,
                        'rewrite' => array('slug' => 'ingredient' ) // ladne przepisywanie
                )); // aksonomia same powinny sie odpalic

                // Meal Types
                register_taxonomy(
                    'meal-type',
                    array('recipes', 'restaurants'), // Rejestrujemy dla dwoch typow 
                    array(
                        'hierarchical' => true,
                        'labels' => array(
                            'name' => 'Typ Dania', 'taxonomy general name',
                            'singular_name' => 'Typ Dania', 'taxonomy singular name',
                            'search_items' =>  'Wyszukaj typ dania',
                            'popular_items' => 'Najpopularniejsze typy dań',
                            'all_items' => 'Wszystkie typy dań',
                            'most_used_items' => null,
                            'parent_item' => null,
                            'parent_item_colon' => null,
                            'edit_item' => 'Edytuj typ dania', 
                            'update_item' => 'Aktualizuj',
                            'add_new_item' => 'Dodaj nowy typ dania',
                            'new_item_name' => 'Nazwa nowego typu dania',
                            'separate_items_with_commas' => 'Oddziel typy dań przecinkiem',
                            'add_or_remove_items' => 'Dodaj lub usuń typ dania',
                            'choose_from_most_used' => 'Wybierz spośród najczęścież używanych typów dań',
                            'menu_name' => 'Typ Dania',
                        ),
                        'show_ui' => true,
                        'update_count_callback' => '_update_post_term_count',
                        'query_var' => true,
                        'rewrite' => array('slug' => 'meal-type' )
                ));
                
                
                
                // Cousine Types
                register_taxonomy(
                    'cousine-type',
                    array('recipes', 'restaurants'),
                    array(
                        'hierarchical' => true,
                        'labels' => array(
                            'name' => 'Rodzaj kuchni',
                            'singular_name' => 'Rodzaj kuchni',
                            'search_items' =>  'Wyszukaj rodzaj kuchni',
                            'popular_items' => 'Najpopularniejsze rodzaje kuchni',
                            'all_items' => 'Wszystkie rodzaje kuchni',
                            'most_used_items' => null,
                            'parent_item' => null,
                            'parent_item_colon' => null,
                            'edit_item' => 'Edytuj rodzaj kuchni', 
                            'update_item' => 'Aktualizuj',
                            'add_new_item' => 'Dodaj nowy rodzaj kuchni',
                            'new_item_name' => 'Nazwa nowego rodzaju kuchni',
                            'separate_items_with_commas' => 'Oddziel rodzaje kuchni przecinkiem',
                            'add_or_remove_items' => 'Dodaj lub usuń rodzaj kuchni',
                            'choose_from_most_used' => 'Wybierz spośród najczęściej używanych rodzajów kuchni',
                            'menu_name' => 'Rodzaj kuchni',
                        ),
                        'show_ui' => true,
                        'update_count_callback' => '_update_post_term_count',
                        'query_var' => true,
                        'rewrite' => array('slug' => 'cousine-type' )
                ));
                
                
                // Cities
                register_taxonomy(
                    'city',
                    array('restaurants'),
                    array(
                        'hierarchical' => FALSE, // nie hieraerchiczne
                        'labels' => array(
                            'name' => 'Miasto',
                            'singular_name' => 'Miasto',
                            'search_items' =>  'Wyszukaj miasto',
                            'popular_items' => 'Najpopularniejsze miasto',
                            'all_items' => 'Wszystkie miasta',
                            'most_used_items' => null,
                            'parent_item' => null,
                            'parent_item_colon' => null,
                            'edit_item' => 'Edytuj miasto', 
                            'update_item' => 'Aktualizuj',
                            'add_new_item' => 'Dodaj nowe miasto',
                            'new_item_name' => 'Nazwa nowego miasta',
                            'separate_items_with_commas' => 'Oddziel miasta przecinkiem',
                            'add_or_remove_items' => 'Dodaj lub usuń miasto',
                            'choose_from_most_used' => 'Wybierz spośród najczęściej używanych miast',
                            'menu_name' => 'Miasto',
                        ),
                        'show_ui' => true,
                        'update_count_callback' => '_update_post_term_count',
                        'query_var' => true,
                        'rewrite' => array('slug' => 'city' )
                ));
                
            }
            __________________________________________________________________________________________________________________________________

        29. W posttype.php dodajemy ikony
            ______________________________KOD_________________________________________________________________________________________________
            add_action('admin_head', 'lte_admin_icons');
            function lte_admin_icons(){
            $ICON_URL = LOVETOEAT_THEME_URL.'img/admin/';
            ?> // Tutaj sie konczy kod w php
            __________________________________________________________________________________________________________________________________

        30. W posttype.php za znacznikiem <?php ?> dodajemy style - ikony w panelu admina do dodoawnai restauracji food fights itp
            ______________________________KOD_________________________________________________________________________________________________
                <style>
                /* po to żeby w panelu admina zmienić domyślne ikonki custom post types*//* dla menu */
                
                #menu-posts-recipes .wp-menu-image,
                #menu-posts-restaurants .wp-menu-image,
                #menu-posts-foodfight .wp-menu-image{
                    background-repeat: no-repeat;
                    background-position: center -17px!important;
                }
                
                #menu-posts-recipes:hover .wp-menu-image,
                #menu-posts-restaurants:hover .wp-menu-image,
                #menu-posts-foodfight:hover .wp-menu-image,
                #menu-posts-recipes.wp-has-current-submenu .wp-menu-image,
                #menu-posts-restaurants.wp-has-current-submenu .wp-menu-image,
                #menu-posts-foodfight.wp-has-current-submenu .wp-menu-image{
                    background-repeat: no-repeat;
                    background-position: center 6px!important;
                }
                
                #menu-posts-recipes .wp-menu-image{
                    background-image: url('<?php echo $ICON_URL.'icon-recipes-menu.png' ?>');
                }
                
                #menu-posts-restaurants .wp-menu-image{
                    background-image: url('<?php echo $ICON_URL.'icon-restaurants-menu.png' ?>');
                }
                
                #menu-posts-foodfight .wp-menu-image{
                    background-image: url('<?php echo $ICON_URL.'icon-foodfight-menu.png' ?>');
                }
                
                
                .icon32-posts-recipes,
                .icon32-posts-restaurants,
                .icon32-posts-foodfight{
                    background-position: center center!important;
                }
                /* dla posdtronyu*/
                .icon32-posts-recipes{
                    background-image: url('<?php echo $ICON_URL.'icon-recipes-header.png' ?>')!important;
                }
                
                .icon32-posts-restaurants{
                    background-image: url('<?php echo $ICON_URL.'icon-restaurants-header.png' ?>')!important;
                }
                
                .icon32-posts-foodfight{
                    background-image: url('<?php echo $ICON_URL.'icon-foodfight-header.png' ?>')!important;
                }
                
            </style>
            <?php } ?>
            __________________________________________________________________________________________________________________________________

        31. Wypelniamy taksonomie w panelu administratora wordpress
            Rodzaje kuchni
                kuchnia szpinska
                kuchnia francuska
                kuchnia japonska
                kuchnia polska
                kuchnia tajska
                kuchnia wloska

            Typ dania
                Drinki i napoje
                    Alkoholowe
                    Bez-alkoholowe
                Obiad
                    Danie glowne
                    Deser
                    Zupa
                Przekaski
                Przystawka
                Sniadanie
                Kolacja

            Skladniki
                Mieso
                    Drob > Edycja > Opis (Dodajemy opis)
                    Wieprzowina
                    Wolowina
                Owoce
                    Banan
                    Czeresnie
                    Jablko
                ...

        32. Dodajemy nowy przepis
            Wpisujemy nazwe
            Wpisujemy przepis
            Wpisujemy wypis
            Zaznaczamy skladniki
            Ustalamy typ dania
            Ustalamy rodzaj kuchni
            Mozemy dodac komentarz

        33. Dodanie nowych restuaracji

        34. Tworzymy strony w wordpress
            Kontakt
            Blog

        35. W index.php tworzymy komentarze. Do pliku pod sekcja o klasie container dodajemy kod php
            ______________________________KOD_________________________________________________________________________________________________
            <!-- <section class="container"> -->
                <!-- <span class="flyer">&uArr;</span> -->
                <!-- Ponizej wpisujemy nasz kod php -->
                <?php 
                    $recent_comms = fetchRecentComments(3) // zmienna zawierajaca wynik funkcji, 3 komentarze
                
                    foreach ($recent_comms as $comment);
                        $date = new \DateTime($comment->comment_date_gmt);
                ?>
            __________________________________________________________________________________________________________________________________

        36. W pliku functions.php dodajemy plik utils.php
            ______________________________KOD_________________________________________________________________________________________________
            require_once LOVETOEAT_THEME_DIR.'libs/utils.php';
            __________________________________________________________________________________________________________________________________

        37. W utils.php dodajemy funkcje ktore moga byc uzyte w kazdym projekcie
            ______________________________KOD_________________________________________________________________________________________________
            <?php
            function fetchRecentComments($limit = 3) {

                global $wpdb;
                    //dla bezpieczeństwa
                    $limit = (int)$limit;
                    
                    $res = $wpdb->get_results(" // zmienna res - zawiera rezultat wyciagniecia z bazy komentarzy
                        SELECT C.*, P.post_title
                            FROM {$wpdb->comments} C // tabela comments
                                LEFT JOIN {$wpdb->posts} P ON C.comment_post_ID = P.ID
                            WHERE comment_approved = 1
                            ORDER BY comment_date_gmt DESC
                            LIMIT {$limit}
                    ");
                            
                    return $res;

            }
            ?>
            __________________________________________________________________________________________________________________________________

        38. W pliku index.php odnajdujemy komentarze. 
                Usuwamy dwa ostatnie komentarze a komentarz janusza edytujemy
            ______________________________KOD_________________________________________________________________________________________________
            <section>
                <header>
                    <small><?php echo $comment->comment_author; ?>w dniu <?php echo $date->format('d.m.Y'); ?></small>
                    <?php echo $comment->post_title ?>
                </header>
                <img alt='' src='content/avatar-janusz.png' />                        
                <blockquote>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sed magna orci, eget egestas tellus. Mauris id lectus lorem, et condimentum est.</blockquote>
            </section>
            __________________________________________________________________________________________________________________________________

        39. Przechodzimy do pliku utils.php i wklejamy na gorze funkcje do przycinania tekstu
            ______________________________KOD_________________________________________________________________________________________________
            function cutText($text, $maxLength){
        
                $maxLength++;

                $return = '';
                if (mb_strlen($text) > $maxLength) {
                    $subex = mb_substr($text, 0, $maxLength - 5);
                    $exwords = explode(' ', $subex);
                    $excut = - ( mb_strlen($exwords[count($exwords) - 1]) );
                    if ($excut < 0) {
                        $return = mb_substr($subex, 0, $excut);
                    } else {
                        $return = $subex;
                    }
                    $return .= '[...]';
                } else {
                    $return = $text;
                }
                
                return $return;
            }
            __________________________________________________________________________________________________________________________________
        
        40. Wracamy do pliku index.php i wpisujemy funkcje do przycinania tekstu z etapu 38
            ______________________________KOD_________________________________________________________________________________________________
            <?php echo cutText($comment->post_title, 27) ?>
            __________________________________________________________________________________________________________________________________

        41. W dalszej czesci komentarza zmieniamy obrazek na dynamiczny z etapu 38
            ______________________________KOD_________________________________________________________________________________________________
            <?php echo get_avatar($comment->user_id, 69); ?>    <!-- <img alt='' src='content/avatar-janusz.png' /> -->                        
            <!-- <blockquote>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sed magna orci, eget egestas tellus. Mauris id lectus lorem, et condimentum est.</blockquote> -->
            <blockquote>
            <?php echo $comment->comment_content; ?>
            </blockquote>
            __________________________________________________________________________________________________________________________________

        42. W dalszej czesci za znaczkiem </section> z komentarzami dodajemy zamkniecie petli forach w php
            ______________________________KOD_________________________________________________________________________________________________
            <?php endforeach; ?>
            __________________________________________________________________________________________________________________________________

        43. W glownym folderze naszego motywu tworzymy pliki
                archive-restaurants.php
                footer-home.php(zawiera to co plik footer.php), ktory bedzie odpiwadal za stopke na innych stronach
                sidebar-restaurants-archive.php

        44. Z pliku restauracje-archive.html przezucamy kod do pliku archive-restaurants.php
            ______________________________KOD_________________________________________________________________________________________________
            <!DOCTYPE html>
            <html lang="pl-PL">
                <head>
                    <meta charset="UTF-8" />

                    <title>Restauracje - LoveToEat</title>

                    <link rel="stylesheet" href="css/reset.css">
                    <link rel="stylesheet" href="css/common.css">
                    <link rel="stylesheet" href="css/screen.css">
                    <link rel="stylesheet" href="css/jqtransform.css">

                    <!--[if lt IE 9]>
                    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
                    <![endif]-->

                    <script src="https://maps.googleapis.com/maps/api/js?key=PODAJ_SWOJ_KLUCZ;sensor=true"></script>
                    <script src="js/jquery-1.9.1.min.js"></script>
                    <script src="js/jquery.carouFredSel-6.2.0.js"></script>
                    <script src="js/jquery.jqtransform.js"></script>
                    <script src="js/slides.jquery.js"></script>
                    <script src="js/scripts.js"></script>
                </head>

                <body>

                    <header>
                        <div class="pos-center">
                            <h1><a href="#">lovetoeat.pl</a></h1>

                            <nav id="main-nav">
                                <div>
                                    <ul class="menu">
                                        <li><a href="#">Przepisy</a></li>
                                        <li><a href="#">Restauracje</a></li>
                                        <li><a href="#">Food Fight</a></li>
                                        <li><a href="#">Blog</a></li>
                                        <li><a href="#">Kontakt</a></li>
                                    </ul>
                                </div>                    
                            </nav>
                        </div>
                    </header>
                    
                    <section id="header">

                        <div class="map"></div>

                        <section class="caption restaurant">
                            <div class="pos-center">
                                <form class="search" method="get" action="">
                                    <label for="search">Znajdź restaurację:</label>
                                    <fieldset>
                                        <input type="text" name="search" id="search" value="" />
                                        <input type="submit" value="" />
                                    </fieldset>
                                </form>
                            </div>
                        </section>
                        
                        <div class="gradient">
                            <div class="pos-center">&nbsp;</div>
                        </div>
                    </section>

                    <section id="restaurants" class="content">
                        <div class="pos-center">
                            <div class="left">
                                <h4 class="search-results">Wynik wyszukiwania:</h4>
                                
                                <div class="wrapper">
                                    <section class="entry">
                                        <a href="#"><img src="content/restaurant-thumbnail1.jpg" alt="restaurant-thumbnail3" /></a>
                                        <div class="description">
                                            <h2><a href="#">Restauracja Da Pietro</a></h2>
                                            <div>
                                                <a href="#">kuchnia polska</a>
                                                <a href="#">Wrocław</a>
                                                <ul class="difficulty dark">
                                                    <li class="active">&Bumpeq;</li>
                                                    <li class="active">&Bumpeq;</li>
                                                    <li class="active">&Bumpeq;</li>
                                                    <li>&Bumpeq;</li>
                                                </ul>
                                            </div>
                                            <p>W restauracji byłem jakiś czas temu, udało mi się wstąpić dość późno ok. 23, ale obsługa powitała mnie bardzo miło. Zamówiłem sałatka z wędzonym pstrągiem i gnocchi z [...]</p>
                                            <a class="more" href="#">...</a>
                                        </div>
                                    </section>

                                    <section class="entry">
                                        <div class="description width">
                                            <h2><a href="#">Miód Malina</a></h2>
                                            <div>
                                                <a href="#">Kuchnia tajska</a>
                                                <a href="#">Warszawa</a>
                                                <ul class="difficulty dark">
                                                    <li class="active">&Bumpeq;</li>
                                                    <li class="active">&Bumpeq;</li>
                                                    <li>&Bumpeq;</li>
                                                    <li>&Bumpeq;</li>
                                                </ul>
                                            </div>
                                            <p>Już od dawien dawna miałam ochotę wybrać się do Miodu Maliny i nareszcie udało mi się tam zjeść obiad. W walentynkowy wieczór w lokalu nie było przesadnie tłoczno, więc bez problemu udało się znaleźć stolik dla dwóch osób. Zamówiliśmy precla z dziczyzną (38 zł) i żeberka w glazurze miodowej z sosem śliwkowym (34 zł), oba dania [...]</p>
                                            <a class="more" href="#">...</a>
                                        </div>
                                    </section>

                                    <section class="entry">
                                        <a href="#"><img src="content/restaurant-thumbnail2.jpg" alt="restaurant-thumbnail" /></a>
                                        <div class="description">
                                            <h2><a href="#">Trattoria Mamma Mia</a></h2>
                                            <div>
                                                <a href="#">Kraków</a>
                                                <a href="#">kuchnia francuska</a>
                                                <ul class="difficulty dark">
                                                    <li class="active">&Bumpeq;</li>
                                                    <li class="active">&Bumpeq;</li>
                                                    <li class="active">&Bumpeq;</li>
                                                    <li class="active">&Bumpeq;</li> 
                                                </ul>
                                            </div>
                                            <p>Byłam już nie raz i nie dwa w Trattorii Mamma Mia i stwierdzam, że jedzenie jest tam po prostu wyśmienite. Obsługa jest bardzo miła, nie muszę czekać, aż ktoś łaskawie [...]</p>
                                            <a class="more" href="#">...</a>
                                        </div>
                                    </section>
                                    
                                    <section class="entry">
                                        <a href="#"><img src="content/restaurant-thumbnail2.jpg" alt="restaurant-thumbnail" /></a>
                                        <div class="description">
                                            <h2><a href="#">Trattoria Mamma Mia</a></h2>
                                            <div>
                                                <a href="#">Kraków</a>
                                                <a href="#">kuchnia francuska</a>
                                                <ul class="difficulty dark">
                                                    <li class="active">&Bumpeq;</li>
                                                    <li class="active">&Bumpeq;</li>
                                                    <li class="active">&Bumpeq;</li>
                                                    <li class="active">&Bumpeq;</li> 
                                                </ul>
                                            </div>
                                            <p>Byłam już nie raz i nie dwa w Trattorii Mamma Mia i stwierdzam, że jedzenie jest tam po prostu wyśmienite. Obsługa jest bardzo miła, nie muszę czekać, aż ktoś łaskawie [...]</p>
                                            <a class="more" href="#">...</a>
                                        </div>
                                    </section>
                                </div>

                                <div class="pagination">
                                    <ul>
                                        <li><a href="#" class="prev page-numbers">«</a></li>
                                        <li><span class="current">1</span></li>
                                        <li><a href="#" class="page-numbers">2</a></li>
                                        <li><a href="#" class="next page-numbers">»</a></li>
                                    </ul>
                                </div>
                            </div>

                            <div class="right">
                                <section class="widget">
                                    <h2>Kuchnia</h2>
                                    <h4>Najbardziej popularne</h4>
                                    <ul class="icons-list cuisines">
                                        <li class="chicken"><a href="#">Kuchnia japońska</a></li>
                                        <li class="soup"><a href="#">Włoskie smaki</a></li>
                                        <li class="fish"><a href="#">Hiszpańskie tapas</a></li>
                                        <li class="soup"><a href="#">Kuchnia tajska</a></li>
                                        <li class="cake"><a href="#">Kuchnia francuska</a></li>
                                    </ul>
                                </section>
                                <section class="widget">
                                    <h2>Ostatnio dodane</h2>
                                    <h4>Najnowsze restauracje</h4>
                                    <ul>
                                        <li><a href="#">Restauracja Da Pietro</a></li>
                                        <li><a href="#">Miód Malina</a></li>
                                        <li><a href="#">Trattoria Mamma Mia</a></li>
                                        <li><a href="#">Pod Wawelem</a></li>
                                    </ul>
                                </section>
                                <section class="widget comments">
                                    <h2>Nowe komentarze</h2>
                                    <h4>Co myślą inni?</h4>

                                    <section>
                                        <header>
                                            <small>Janusz w dniu 09.04.2013</small>
                                            Sałatka z chrupiącym kurczakiem 
                                        </header>
                                        <img alt='' src='content/avatar-janusz.png' />
                                        <blockquote>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sed magna orci, eget egestas tellus. Mauris id lectus lorem, et condimentum est.</blockquote>
                                    </section>
                                    <section>
                                        <header>
                                            <small>Romek w dniu 23.03.2013</small>
                                            Schab po węgiersku   
                                        </header>
                                        <img alt='' src='content/avatar-roman.png' />
                                        <blockquote>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sed magna orci, eget egestas tellus. Mauris id lectus lorem, et condimentum est.</blockquote>
                                    </section>
                                </section>
                            </div>        
                        </div>
                    </section>

                    <footer class="boxes">
                        <div class="pos-center">
                            <div class="flyer">&nbsp;</div>
                            <section class="spaghetti">
                                <h2>Przepisy i Dieta</h2>
                                <ul>
                                    <li><a href="#">Sałatka z chrupiącym indykiem</a></li>
                                    <li><a href="#">Schab po węgiersku</a></li>
                                    <li><a href="#">Sałatka z chrupiącym indykiem</a></li>
                                    <li><a href="#">Bagietka francuska</a></li>
                                    <li><a href="#">Zapiekanka krakowska</a></li>
                                </ul>
                            </section>

                            <section class="bread">
                                <h2>Food Fight</h2>
                                <ul>
                                    <li><a href="#">Cheeseburger vs Hambuger</a></li>
                                    <li><a href="#">Subway Panini vs Zapiekanka</a></li>
                                    <li><a href="#">McChicken vs Tortilla Deluxe</a></li>
                                    <li><a href="#">Cheeseburger vs Hambuger</a></li>
                                    <li><a href="#">Subway Panini vs Zapiekanka</a></li>
                                </ul>
                            </section>

                            <section class="dinner last">
                                <h2>Restauracje</h2>
                                <ul>
                                    <li><a href="#">Restauracja Da Pietro</a></li>
                                    <li><a href="#">Miód Malina</a></li>
                                    <li><a href="#">Trattoria Mamma Mia</a></li>
                                    <li><a href="#">Pod Wawelem</a></li>
                                    <li><a href="#">Trattoria Mamma Mia</a></li>
                                </ul>
                            </section>
                        </div>
                    </footer>
                    
                </body>
            </html>
            __________________________________________________________________________________________________________________________________
        45. Z pliku archive-restaurants.php usuwamy dany kod 
            ______________________________KOD_________________________________________________________________________________________________
            <!DOCTYPE html>
            <html lang="pl-PL">
                <head>
                    <meta charset="UTF-8" />

                    <title>Restauracje - LoveToEat</title>

                    <link rel="stylesheet" href="css/reset.css">
                    <link rel="stylesheet" href="css/common.css">
                    <link rel="stylesheet" href="css/screen.css">
                    <link rel="stylesheet" href="css/jqtransform.css">

                    <!--[if lt IE 9]>
                    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
                    <![endif]-->

                    <script src="https://maps.googleapis.com/maps/api/js?key=PODAJ_SWOJ_KLUCZ;sensor=true"></script>
                    <script src="js/jquery-1.9.1.min.js"></script>
                    <script src="js/jquery.carouFredSel-6.2.0.js"></script>
                    <script src="js/jquery.jqtransform.js"></script>
                    <script src="js/slides.jquery.js"></script>
                    <script src="js/scripts.js"></script>
                </head>

                <body>

                    <header>
                        <div class="pos-center">
                            <h1><a href="#">lovetoeat.pl</a></h1>

                            <nav id="main-nav">
                                <div>
                                    <ul class="menu">
                                        <li><a href="#">Przepisy</a></li>
                                        <li><a href="#">Restauracje</a></li>
                                        <li><a href="#">Food Fight</a></li>
                                        <li><a href="#">Blog</a></li>
                                        <li><a href="#">Kontakt</a></li>
                                    </ul>
                                </div>                    
                            </nav>
                        </div>
                    </header>
            __________________________________________________________________________________________________________________________________
        46. Wpisujemy kod zamist kodu ktory usunelismy
            ______________________________KOD_________________________________________________________________________________________________
            <?php get_header(); ?>
            __________________________________________________________________________________________________________________________________

        47. W tym samym pliku wycinamy diva z klasa right i wklejamy do pliku sidebar-restaurants-archive.php
            ______________________________KOD_________________________________________________________________________________________________
            <div class="right">
                <section class="widget">
                    <h2>Kuchnia</h2>
                    <h4>Najbardziej popularne</h4>
                    <ul class="icons-list cuisines">
                        <li class="chicken"><a href="#">Kuchnia japońska</a></li>
                        <li class="soup"><a href="#">Włoskie smaki</a></li>
                        <li class="fish"><a href="#">Hiszpańskie tapas</a></li>
                        <li class="soup"><a href="#">Kuchnia tajska</a></li>
                        <li class="cake"><a href="#">Kuchnia francuska</a></li>
                    </ul>
                </section>
                <section class="widget">
                    <h2>Ostatnio dodane</h2>
                    <h4>Najnowsze restauracje</h4>
                    <ul>
                        <li><a href="#">Restauracja Da Pietro</a></li>
                        <li><a href="#">Miód Malina</a></li>
                        <li><a href="#">Trattoria Mamma Mia</a></li>
                        <li><a href="#">Pod Wawelem</a></li>
                    </ul>
                </section>
                <section class="widget comments">
                    <h2>Nowe komentarze</h2>
                    <h4>Co myślą inni?</h4>

                    <section>
                        <header>
                            <small>Janusz w dniu 09.04.2013</small>
                            Sałatka z chrupiącym kurczakiem 
                        </header>
                        <img alt='' src='content/avatar-janusz.png' />
                        <blockquote>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sed magna orci, eget egestas tellus. Mauris id lectus lorem, et condimentum est.</blockquote>
                    </section>
                    <section>
                        <header>
                            <small>Romek w dniu 23.03.2013</small>
                            Schab po węgiersku   
                        </header>
                        <img alt='' src='content/avatar-roman.png' />
                        <blockquote>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sed magna orci, eget egestas tellus. Mauris id lectus lorem, et condimentum est.</blockquote>
                    </section>
                </section>
            </div>
            __________________________________________________________________________________________________________________________________

        48. W pliku archive-restaurants.php po wycietym dive o klasie right ladujemy go po przez kod
            ______________________________KOD_________________________________________________________________________________________________
            <?php get_sidebar('restaurants-archive); ?>
            __________________________________________________________________________________________________________________________________

        49. Footer znajdujacy sie w archive-restuarnt.php wycinamy i wklejamy do footer.php lacznie z zamknieciem html
            ______________________________KOD_________________________________________________________________________________________________
                    <footer class="boxes">
                        <div class="pos-center">
                            <div class="flyer">&nbsp;</div>
                            <section class="spaghetti">
                                <h2>Przepisy i Dieta</h2>
                                <ul>
                                    <li><a href="#">Sałatka z chrupiącym indykiem</a></li>
                                    <li><a href="#">Schab po węgiersku</a></li>
                                    <li><a href="#">Sałatka z chrupiącym indykiem</a></li>
                                    <li><a href="#">Bagietka francuska</a></li>
                                    <li><a href="#">Zapiekanka krakowska</a></li>
                                </ul>
                            </section>

                            <section class="bread">
                                <h2>Food Fight</h2>
                                <ul>
                                    <li><a href="#">Cheeseburger vs Hambuger</a></li>
                                    <li><a href="#">Subway Panini vs Zapiekanka</a></li>
                                    <li><a href="#">McChicken vs Tortilla Deluxe</a></li>
                                    <li><a href="#">Cheeseburger vs Hambuger</a></li>
                                    <li><a href="#">Subway Panini vs Zapiekanka</a></li>
                                </ul>
                            </section>

                            <section class="dinner last">
                                <h2>Restauracje</h2>
                                <ul>
                                    <li><a href="#">Restauracja Da Pietro</a></li>
                                    <li><a href="#">Miód Malina</a></li>
                                    <li><a href="#">Trattoria Mamma Mia</a></li>
                                    <li><a href="#">Pod Wawelem</a></li>
                                    <li><a href="#">Trattoria Mamma Mia</a></li>
                                </ul>
                            </section>
                        </div>
                    </footer>
                    
                </body>
            </html>
            __________________________________________________________________________________________________________________________________

        50. A w pliku archive-restuarnt.php po wycietym footerze wpisujemy odnosnik do tego footera
            ______________________________KOD_________________________________________________________________________________________________
            <?php get_footer(); ?>
            __________________________________________________________________________________________________________________________________

        51. W pliku archive-restuarnt.php
            Usuwamy wszystkie sekcje z klass="entry"(Lista restauracji) zostawiajac jedna ktora bedziemy dynamizowac 
            ______________________________KOD_________________________________________________________________________________________________
            <section class="entry">
                <a href="#"><img src="content/restaurant-thumbnail1.jpg" alt="restaurant-thumbnail3" /></a>
                <div class="description">
                    <h2><a href="#">Restauracja Da Pietro</a></h2>
                    <div>
                        <a href="#">kuchnia polska</a>
                        <a href="#">Wrocław</a>
                        <ul class="difficulty dark">
                            <li class="active">&Bumpeq;</li>
                            <li class="active">&Bumpeq;</li>
                            <li class="active">&Bumpeq;</li>
                            <li>&Bumpeq;</li>
                        </ul>
                    </div>
                    <p>W restauracji byłem jakiś czas temu, udało mi się wstąpić dość późno ok. 23, ale obsługa powitała mnie bardzo miło. Zamówiłem sałatka z wędzonym pstrągiem i gnocchi z [...]</p>
                    <a class="more" href="#">...</a>
                </div>
            </section>
            __________________________________________________________________________________________________________________________________

        52. Przerabiamy kod ktory jest wyzej
            ______________________________KOD_________________________________________________________________________________________________
            <?php if(have_posts()) :?> <!-- Jesli sa jakies posty -->

            <?php while (have_posts()) : the_post(); ?> <!-- Jesli sa to wtedy wyswietlamy je -->
            
                <section id="restaurants-<?php the_ID();?>" <?php post_class('entry'); ?>>
                    <a href="<?php the_permalink(); ?>"><?php the_post_thumbnail(); ?></a>
                    <div class="description">
                        <h2><a href="<?php the_permalink(); ?>"><?php the_title(); ?></a></h2>
                        <div>
                            <?php printRestaurantCategories($post->ID) ?> <!-- Funkcja z pliku functions.php -->
                            <ul class="difficulty dark">
                                <?php printRanking($post->ID); ?>

                            </ul>
                        </div>
                        <p><?php echo the_excerpt_max_charlength(173); ?></p> <!-- przycina nam znaki do 173 z funkcji ktora zadeklarowalismy w punkci poniezej -->
                        <a class="more" href="#">...</a>
                    </div>
                </section>

            <?php endwhile ?> <!-- Domykamy while -->
            <?php else:  ?> <!-- Else dla if -->
                <h4> Nie ma zadnych postow </h4>
            <?php endif; ?>
            __________________________________________________________________________________________________________________________________

        52a. Do pliku utils.php dodajemy kod do opcinania opisu restuaracji
            ______________________________KOD_________________________________________________________________________________________________
            function the_excerpt_max_charlength($charlength) {
		        echo cutText(get_the_excerpt(), $charlength);
	        }
            __________________________________________________________________________________________________________________________________

        52b. Przechodzimy do pliku utils.php i wpisujemy funkcje do wyseitlania naszych taksonomi
            ______________________________KOD_________________________________________________________________________________________________
            function printPostCategories($post_id, array $categories = array()){
                $terms_list = array();
                foreach($categories as $cname){
                    $tmp = get_the_terms($post_id, $cname);
                    if(is_array($tmp)){
                        $terms_list = array_merge($terms_list, $tmp);
                    }
                }
                
                if($terms_list){
                    foreach($terms_list as $term){
                        echo '<a href="'.get_term_link($term->slug, $term->taxonomy).'">'.$term->name.'</a>';
                    }
                }
            }
            __________________________________________________________________________________________________________________________________

        52c. W pliku functions.php wpisujemy kod odwolywnia sie do pliku utils.php i kod do wyseitlania "czapek szefa (oceny)"
            ______________________________KOD_________________________________________________________________________________________________
            function printRestaurantCategories($post_id) {
		        printPostCategories($post_id, array('cousine-type', 'city'));
	        }

            function printRanking($post_id) {
		        $rate = (int)get_post_meta($post_id, 'ranking', true);
											
		        for($i=1; $i<5; $i++) {
			        if($i <= $rate) {
			        	echo '<li class="active"></li>';
			        } else {
			        	echo '<li></li>';
			        }
		        }
	        }
            __________________________________________________________________________________________________________________________________

        53. W pliku functions.php dodajemy funkcjonalnosc wlasnych postow i miniaturek postow
            ______________________________KOD_________________________________________________________________________________________________
            add_theme_support('post-formats', array('gallery'));
            add_theme_support('post-thumbnails', array('post', 'recipes', 'restaurants', 'foodfight'));
            __________________________________________________________________________________________________________________________________

        54. Edytujemy jakas restuaracje i dodajemy jej ikonke wpisu

        55. Edytujemy kod odnosnie restauracji w pliku archive-restaurants.php
                Sprawdzmy czy post format to jest galeria
            ______________________________KOD_________________________________________________________________________________________________           
            <section id="restaurants-<?php the_ID();?>" <?php post_class('entry'); ?>>
					
                <?php if(get_post_format($post->ID) == 'gallery'): ?>
                
                        <a href="<?php the_permalink(); ?>"><?php the_post_thumbnail(); ?></a>
                        <div class="description">
                            <h2><a href="<?php the_permalink(); ?>"><?php the_title(); ?></a></h2>
                            <div>
                                <?php printRestaurantCategories($post->ID) ?>
                                <ul class="difficulty dark">

                                    <?php printRanking($post->ID); ?>
                                </ul>
                            </div>
                            <p><?php the_excerpt_max_charlength(173); ?></p>
                            <a class="more" href="<?php the_permalink(); ?>">...</a>
                        </div>
                        
                <?php else: ?> 
                
                        <div class="description width">
                            <h2><a href="<?php the_permalink(); ?>"><?php the_title(); ?></a></h2>
                            <div>
                                <?php printRestaurantCategories($post->ID) ?>
                                <ul class="difficulty dark">

                                    <?php printRanking($post->ID); ?>
                                </ul>
                            </div>
                            <p><?php the_excerpt_max_charlength(173); ?></p>
                            <a class="more" href="#">...</a>
                        </div>

                <?php endif; ?>
			</section>
            __________________________________________________________________________________________________________________________________

        56. W pliku archive-restaurants.php modyfikujemy przegladarke
            ______________________________KOD_________________________________________________________________________________________________
            Dawny kod:
            <div class="map"></div>

            <section class="caption restaurant">
                <div class="pos-center">
                    <form class="search" method="get" action="">
                        <label for="search">Znajdź restaurację:</label>
                        <fieldset>
                            <input type="text" name="search" id="search" value="" />
                            <input type="submit" value="" />
                        </fieldset>
                    </form>
                </div>
            </section>

            Nowy kod--------------------------------------------------------------------------------------------------------------------------
            <div class="map"></div>

            <section class="caption restaurant">
                <div class="pos-center">

                <?php $search = getQuerySingleParam('search'); ?>

                    <form class="search" method="get" action="<?php getCurrentPageUrl(); ?>">
                        <label for="search">Znajdź restaurację:</label>
                        <fieldset>
                            <input type="text" name="search" id="search" value="<?php echo $search ?>" />
                            <input type="submit" value="" />
                        </fieldset>
                    </form>
                </div>
            </section>
            __________________________________________________________________________________________________________________________________

        56a. W pliku utils.php dodajemy nowe funkcje
            ______________________________KOD_________________________________________________________________________________________________
            function getQueryParams(){ // pobiera wszystkie parametry znajdujace sie w pasku adresu
                global $query_string;
                $parts = explode('&', $query_string);
                
                $return = array();
                foreach($parts as $part){
                    $tmp = explode('=', $part);
                    $return[$tmp[0]] = trim(urldecode($tmp[1]));
                }
                
                return $return;
            }  

            function getQuerySingleParam($name){ // Wyciaga pojedynczy parametr i przekazujemy 
                $qparams = getQueryParams();
                
                if(isset($qparams[$name])){
                    return $qparams[$name];
                }
                
                return NULL;
            }

            function getCurrentPageUrl(){ // Pozwala pobrac url storny na ktorej sie znajdujemy
                $pageURL = 'http';
                
            if(isset($_SERVER["HTTPS"])){
                    if($_SERVER["HTTPS"] == "on") {
                        $pageURL .= "s";
                    }
            }
                
            $pageURL .= "://";
                
            if($_SERVER["SERVER_PORT"] != "80"){
                    $pageURL .= $_SERVER["SERVER_NAME"].":".$_SERVER["SERVER_PORT"].$_SERVER["REQUEST_URI"];
            }else{
                    $pageURL .= $_SERVER["SERVER_NAME"].$_SERVER["REQUEST_URI"];
            }
                
            return $pageURL;
            }
            __________________________________________________________________________________________________________________________________

        57. Edytujemy w archive-restaurant.php linijki odpowiedzialne za wysuzkiwanie
            ______________________________KOD_________________________________________________________________________________________________
            Dawny kod:
            <section id="restaurants" class="content">
            <div class="pos-center">
                <div class="left">
                    <h4 class="search-results">Wynik wyszukiwania:</h4>
                    
                    <div class="wrapper">

            Nowy kod-------------------------------------------------------------------------------------------------------------------------
            <section id="restaurants" class="content">
            <div class="pos-center">
                <div class="left">
                    <?php if(isset($search)): ?>
                    <h4 class="search-results">Wynik wyszukiwania:</h4>
                    <?php endif; ?>

                    <?php
						$query_params = getQueryParams();
							if(isset($query_params['search'])) { // jesli jest ustawiony parametr search
								$query_params['post_title_like'] = $query_params['search']; // Podobne wyszukiwania
								unset($query_params['search']); // resetujemy param[search]
							}

						$loop = new WP_Query($query_params); //  parametry tego zawezenia
					?>

                    <div class="wrapper">
            __________________________________________________________________________________________________________________________________

        57a. Do pliku utils.php dodajemy funkcje filtr ktora pozwoli odzialywac na zapytanie do bazy danych. Podobne wyniki przy wyszukiwarce
            ______________________________KOD_________________________________________________________________________________________________
            add_filter('posts_where', 'title_like_posts_where', 10, 2);
            function title_like_posts_where( $where, &$wp_query ) {
                global $wpdb;
                
                if ($post_title_like = $wp_query->get('post_title_like')){
                    $where .= ' AND '.$wpdb->posts.'.post_title LIKE \'%'.esc_sql(like_escape($post_title_like)).'%\'';
                }
                
                return $where;
            __________________________________________________________________________________________________________________________________

        58. Modyfikujemy kod z wynikem wyszukiwania w archive-restaurants.php
            ______________________________KOD_________________________________________________________________________________________________
            
            <div class="wrapper">
					
				<?php if($loop->have_posts()) :?> <!--  <?php if(have_posts()) :?>
					
				<?php while ($loop->have_posts()) : $loop->the_post(); ?> <!-- <?php while (have_posts()) : the_post(); ?> -->					
            __________________________________________________________________________________________________________________________________

        59. Zmieniam ilos wysietlanych wpisow w ustawienia> czytanie> Strony blogu wysietlaja maksymalnie (3 wpisy)
        60. Edytujemy paginacje w archive-restaurants.php
            ______________________________KOD_________________________________________________________________________________________________
            Dawny kod:
            <div class="pagination">
                <ul>
                    <li><a href="#" class="prev page-numbers">«</a></li>
                    <li><span class="current">1</span></li>
                    <li><a href="#" class="page-numbers">2</a></li>
                    <li><a href="#" class="next page-numbers">»</a></li>
                </ul>
            </div>
            Nowy kod:-------------------------------------------------------------------------------------------------------------------------
            <div class="pagination">
                <?php generatePagination(get_query_var('paged'), $loop); ?>
            </div>
            __________________________________________________________________________________________________________________________________
            
        60a. W pliku utils wpisujemy funkcje do paginacji
            ______________________________KOD_________________________________________________________________________________________________
            function generatePagination($paged, $loop) {
    
                $big = 999999999; // need an unlikely integer

                    echo paginate_links( array(
                        'base' => str_replace( $big, '%#%', esc_url( get_pagenum_link( $big ) ) ),
                        'format' => '?paged=%#%',
                        'current' => max( 1, $paged ),
                        'total' => $loop->max_num_pages,
                        'prev_text' => '«',
                        'next_text' => '»',
                        'type' => 'list'
                    ) );
            }

            __________________________________________________________________________________________________________________________________
            
        61. Dynamizujemy plik footer.php
            ______________________________KOD_________________________________________________________________________________________________
            Dawny kod:
            <footer class="boxes">
            <div class="pos-center">
                <div class="flyer">&nbsp;</div>
                <section class="spaghetti">
                    <h2>Przepisy i Dieta</h2>
                    <ul>
                        <li><a href="#">Sałatka z chrupiącym indykiem</a></li>
                        <li><a href="#">Schab po węgiersku</a></li>
                        <li><a href="#">Sałatka z chrupiącym indykiem</a></li>
                        <li><a href="#">Bagietka francuska</a></li>
                        <li><a href="#">Zapiekanka krakowska</a></li>
                    </ul>
                </section>

            Nowy kod--------------------------------------------------------------------------------------------------------------------------

                <footer class="boxes">
                    <div class="pos-center">
                        <div class="flyer">&nbsp;</div>
                        <section class="spaghetti">
                            <h2>Przepisy i Dieta</h2>
                            <ul>
                                <?php
                                    $przepisy = new WP_Query(array(
                                        'post_type' => 'recipes', // posty customowe
                                        'posts_per_page' => 5 // 
                                    ));
                                    
                                    while($przepisy->have_posts()): $przepisy->the_post();	// wysietlamy posty					
                                ?>
                                <li><a href="<?php the_permalink(); ?>"><?php the_title(); ?></a></li> // posty beda podlinkowane i wyswietla tytul naszego posta
                                <?php endwhile; ?>
                            </ul>
                        </section>

                        <section class="bread">
                            <h2>Food Fight</h2>
                            <ul>
                                <?php
                                    $foodfight = new WP_Query(array(
                                        'post_type' => 'foodfight',
                                        'posts_per_page' => 5
                                    ));
                                    
                                    while($foodfight->have_posts()): $foodfight->the_post();						
                                ?>
                                <li><a href="<?php the_permalink(); ?>"><?php the_title(); ?></a></li>
                                <?php endwhile; ?>
                            </ul>
                        </section>

                        <section class="dinner last">
                            <h2>Restauracje</h2>
                            <ul>
                                <?php
                                    $restauracje = new WP_Query(array(
                                        'post_type' => 'restaurants',
                                        'posts_per_page' => 5
                                    ));
                                    
                                    while($restauracje->have_posts()): $restauracje->the_post();						
                                ?>
                                <li><a href="<?php the_permalink(); ?>"><?php the_title(); ?></a></li>
                                <?php endwhile; ?>
                            </ul>
                        </section>
                    </div>
                </footer>
                    
                </body>
            </html>
            __________________________________________________________________________________________________________________________________
            
        64. W pliku functions.php deklarujemy sidebar i w ktorym bedziemy mogli dodawac widgety
            ______________________________KOD_________________________________________________________________________________________________
            /* Usprawniamy ten kod 
            register_sidebar(array(
                'name' => 'Restauracje (listing)',
                'id' => 'restants-archive-widget',
                'description' => 'Widgety w sidebarze w archiwum restauracji',
                'before_widget' => '<div id="%1$s" class="box widget %2$s">',
                'after_widget' => '</div>',
                'before_title' => '<h2>',
                'after_title' => '</h2>'
            ));
            */

            if(function_exists(register_sidebar)) { // Jesli funkcja register sidebar jest dostepna dla nas to rejestrujemy
	
                $sidebar_list = array( // Tworzymy liste
                    array( // kolejna tablica ze zmiennymi dla kazdego sidebara
                        'name' => 'Restauracje (listing)',
                        'id' => 'restants-archive-widget',
                        'description' => 'Widgety w sidebarze w archiwum restauracji'
                    ),
                    array(
                        'name' => 'Restauracja (szczegóły)',
                        'id' => 'restaurant-details-widgets',
                        'description' => 'Widgety w sidebarze w pojedynczej restauracji'
                    ),
                    array(
                        'name' => 'Przepisy (listing)',
                        'id' => 'recipes-archive-widgets',
                        'description' => 'Widgety w pasku bocznym na liście przepisów'
                    ),
                    array(
                        'name' => 'Przepisy (szczegóły)',
                        'id' => 'recipe-details-widgets',
                        'description' => 'Widgety w pasu bocznym na stronie przepisu'
                    ),
                    array(
                        'name' => 'Domyślny',
                        'id' => 'default-widgets',
                        'description' => 'Domyślny pasek z Widgetami'
                    ),
                );
                
                $sidebar_opts = array( // opcje
                    'before_widget' => '<div id="%1$s" class="box widget %2$s">',
                    'after_widget' => '</div>',
                    'before_title' => '<h2>',
                    'after_title' => '</h2>'
                );
                
                foreach($sidebar_list as $sidebar) { // dla kazdego sidebara rejestrujemy sidebar
                    register_sidebar(array_merge($sidebar, $sidebar_opts));
                }
            }
            __________________________________________________________________________________________________________________________________
            
        63. Dynamizujemy sidebar-restaurants-archive.php
            ______________________________KOD_________________________________________________________________________________________________
            <div class="right">
                <?php dynamic_sidebar('restants-archive-widget') ?>             
            </div> 
            __________________________________________________________________________________________________________________________________
            
        64. Podpinami plugin ktore beda wytlumaczone w nowym kursie i je wlaczamy
        65. W header.php musimy podpiac plik scriptu z google map z wlasnym kluczem api
            ______________________________KOD_________________________________________________________________________________________________
		    <script src="https://maps.googleapis.com/maps/api/js?key=<?php echo esc_attr(get_option('lte_gmap_api_key')); ?>&amp;sensor=true"></script>
            __________________________________________________________________________________________________________________________________

        66. W pliku functions.php tworzymy funkcje do mapy google
            ______________________________KOD_________________________________________________________________________________________________
            // dane do mapy
            function getRestaurantsCountByCities() { // Zostana zwrocone restauracje ilosc po miescie
                $cities_list = get_terms('city'); // wyciagamy taksonomie miasta
                $arr_ret = array(); // tworzymy tablice
                
                foreach($cities_list as $city) { // dla kazdego miasta z listy 
                    $arr_ret[] = array(
                        'city' => $city->name, // pierwszy klucz city i wyciagamy nazwe miasta
                        'restaurantsCount' => $city->count // drugi klucz czyli ilosc zrecenzowanych restauracji
                    );
                }
                
                return $arr_ret; // zwracanie tablicy
            }
            __________________________________________________________________________________________________________________________________
            
        67. W pliku archive-restaurants.php wywolujemy script do przepisania tablicy z php w function do google map w js na naszej stronie
            ______________________________KOD_________________________________________________________________________________________________
			<script>var restaurantsList = JSON.parse('<?php echo json_encode(getRestaurantsCountByCities()); ?>')</script>
            __________________________________________________________________________________________________________________________________

        Instrukacja. Rejestrowanie strony panelu
                        1. Rejestracja ustawien strony - register_settings
                        2. Action Hook - add_action
                        3. Formularz linkujacy do options.php
                        4. Rejestracja pol w formularzu ustawien - settings_fields
                        5. Przekazanie opcji z formularza z pomoca get_option
                        6. Powiazanie opcji ze strona .php

        68. W pliku functions.php rejestrujemy strone
            ______________________________KOD_________________________________________________________________________________________________
            function lte_admin_init() { // deklaracja funkcji 
		        register_setting('lte_theme_options', 'lte_gmap_api_key'); // rejestrujemy grupe ustawien a pozniej nazwe tego ustawienia
	        }

            add_action('admin_init', 'lte_admin_init'); // wywolujemy add_action i jako parametr admin_init i nazwe wprowadzonej wczesniej funkcji

            function lte_settings_page() { // wlasciwa strona z ustawieniami administratora
                ?> // zamykamy plik php
                
                    <div class="wrap"> <!-- Klasa wrap -->
                        <?php screen_icon(); ?> <!-- Pozwala wyswietlic mala ikonke na gorze pola ustawien -->
                        <h2>Ustawienia Szablonu LoveToEat</h2> <!-- Naglowek  -->
                        
                        <form action="options.php" method="post" id="lte-options-form"> <!-- Musi linkowac do options.php -->
                            <?php settings_fields('lte_theme_options'); ?> <!-- Ta funkcja przjmuje nazwe grupe ustawien -->
                            <h3>
                                <label for="lte_gmap_api_key">Klucz Google Maps</label> <!-- Klucz googla -->
                                <input name="lte_gmap_api_key" id="lte_gmap_api_key" type="text" style="width:500px;" value="<?php echo esc_attr(get_option('lte_gmap_api_key')); ?>" <!-- Sluzy do wpisania klucza z enkoodowaniem znakow. I przekazujemy nazwe-->
                            </h3>
                            <input class="button button-primary" type="submit" value="Zapisz" /> <!-- PRzycisk wysylania -->
                        </form>
                    </div>
                <?php
            }

            function lte_settings_menu() { //Sluzy za zarejestrowanie odpowiedniego linku w kokpicie
		        add_theme_page('LoveToEat - Ustawienia', 'Szablon LoveToEat', 'manage_options', 'lte-theme-options', 'lte_settings_page'); // pozwala dodac kolejna strone jako sub menuw nasyzm menu z lewej strony. Zawiera nazwe strony, Tytul, capability, manu_slug, funkcja-->
	        }
	
	        add_action('admin_menu', 'lte_settings_menu'); // wywolanie hook 
            __________________________________________________________________________________________________________________________________

        68a. Dynamizujem link od googla map w header.php
            ______________________________KOD_________________________________________________________________________________________________
            <script src="https://maps.googleapis.com/maps/api/js?key=<?php echo esc_attr(get_option('lte_gmap_api_key')); ?>&amp;sensor=true"></script>
            __________________________________________________________________________________________________________________________________

        68b. Otiweramy plik functions.php i przypisujemy adminow aby dodal klucz do googla map
            ______________________________KOD_________________________________________________________________________________________________
            function show_admin_panel_message() { // funkcja do wyswietlenia wiadomosci o braku klucza
                $key = esc_attr(get_option('lte_gmap_api_key')); // ustawiamy zmienna key dla klucza
                
                if(empty($key)) { // jesli klucz jest pusty
                    echo '<div id="message" class="error"><p><strong>Szablon LoveToEat wymaga podania klucza Google Maps API</strong></p></div>'; // wysietlamy ze szablon wymaga klucza api
                }
            }
            add_action('admin_notices', 'show_admin_panel_message'); // Dodajemy action
            __________________________________________________________________________________________________________________________________

        69. W pliku index.php dynamizujemy liste przepisow
            ______________________________KOD_________________________________________________________________________________________________
            Dawny kod:
            <ul class="icons-list">
                <li class="chicken"><a href="#">Sałatka z chrupiącym indykiem</a></li>
                <li class="chicken"><a href="#">Bagietka francuska</a></li>
                <li class="chicken"><a href="#">Zapiekanka krakowska</a></li>
                <li class="chicken"><a href="#">Sałatka z chrupiącym kurczakiem</a></li>
                <li class="chicken"><a href="#">Schab po węgiersku</a></li>
            </ul>

            Nowy kod--------------------------------------------------------------------------------------------------------------------------
            <?php 
                $recipes_query = new WP_Query(array(
                    'numberposts'       => 7,
                    'orderby'           => 'post_date',
                    'order'             => 'DESC',
                    'post_type'         => 'recipes',
                    'post_status'       =>  'publish'
                ));

                if($recipes_query->have_posts()):
            ?>

            <ul class="icons-list">
                <?php while($recipes_query->have_posts()) : $recipes_query->the_post(); ?>
                <li class="chicken"><a href="<?php the_permalink(); ?>"><?php the_title(); ?></li>
                <?php endwhile; ?>
            </ul>
            <a href="#"> WSzystkie przepisy</a>
            <?php endif; ?>
            __________________________________________________________________________________________________________________________________

        69a. W pliku index.php dynamizujemy liste dobre restauracje
            ______________________________KOD_________________________________________________________________________________________________
            Dawny kod:
            <ul class="icons-list">
                <li class="waiter"><a href="#">Restauracja Da Pietro</a></li>
                <li class="waiter"><a href="#">Miód Malina</a></li>
                <li class="waiter"><a href="#">Trattoria Mamma Mia</a></li>
                <li class="waiter"><a href="#">Pod Wawelem</a></li>
                <li class="waiter"><a href="#">Pomodorino</a></li>
            </ul>

            Nowy kod--------------------------------------------------------------------------------------------------------------------------
            <?php 
                $restaurants_query = new WP_Query(array(
                    'numberposts'       => 7,
                    'orderby'           => 'post_date',
                    'order'             => 'DESC',
                    'post_type'         => 'restaurants',
                    'post_status'       =>  'publish'
                ));

                if($recipes_query->have_posts()):
            ?>

            <ul class="icons-list">
                <?php while(restaurants_query->have_posts()) : restaurants_query->the_post(); ?>
                <li class="chicken"><a href="<?php the_permalink(); ?>"><?php the_title(); ?></li>
                <?php endwhile; ?>
            </ul>
            <a href="#"> WSzystkie przepisy</a>
            <?php endif; ?>
            __________________________________________________________________________________________________________________________________

        70. Ustawiamy ikony dla w pisu w wordpress
        71. W pliku index.php edytujemy slider
            ______________________________KOD_________________________________________________________________________________________________
            Dawny kod:
             <div>
                <a href="#"><img src="content/home-slider-1.jpg" alt="" /></a>
                <h2><a href="#">Sałatka z chrupiącym kurczakiem</a></h2>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sed magna orci, eget egestas tellus. Mauris id lectus lorem, et condimentum est. Nam auctor venenatis arcu, eget [...]</p>
                <a class="more" href="#">...</a>
            </div>


            <div>
                <a href="#"><img src="content/home-slider-2.jpg" alt="" /></a>
                <h2><a href="#">Sałatka z chrupiącym indykiem</a></h2>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sed magna orci, eget egestas tellus. Mauris id lectus lorem, et condimentum est. Nam auctor venenatis arcu, eget [...]</p>
                <a class="more" href="#">...</a>
            </div>

            <div>
                <a href="#"><img src="content/home-slider-3.jpg" alt="" /></a>
                <h2><a href="#">Sałatka z chrupiącym indykiem</a></h2>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sed magna orci, eget egestas tellus. Mauris id lectus lorem, et condimentum est. Nam auctor venenatis arcu, eget [...]</p>
                <a class="more" href="#">...</a>
            </div>
            
            <div>
                <a href="#"><img src="content/home-slider-1.jpg" alt="" /></a>
                <h2><a href="#">Sałatka z chrupiącym kurczakiem</a></h2>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sed magna orci, eget egestas tellus. Mauris id lectus lorem, et condimentum est. Nam auctor venenatis arcu, eget [...]</p>
                <a class="more" href="#">...</a>
            </div>


            <div>
                <a href="#"><img src="content/home-slider-2.jpg" alt="" /></a>
                <h2><a href="#">Sałatka z chrupiącym indykiem</a></h2>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sed magna orci, eget egestas tellus. Mauris id lectus lorem, et condimentum est. Nam auctor venenatis arcu, eget [...]</p>
                <a class="more" href="#">...</a>
            </div>

            <div>
                <a href="#"><img src="content/home-slider-3.jpg" alt="" /></a>
                <h2><a href="#">Sałatka z chrupiącym indykiem</a></h2>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sed magna orci, eget egestas tellus. Mauris id lectus lorem, et condimentum est. Nam auctor venenatis arcu, eget [...]</p>
                <a class="more" href="#">...</a>
            </div>

            Nowy kod--------------------------------------------------------------------------------------------------------------------------
            <?php 
                $recent_recipes_loop = new WP_Query(array(
                    'post_type' => ' recipes',
                    'post_per_page' => 6
                ));

                while($recent_recipes_loop->have_posts()) :
                    $recent_recipes_loop
            ?>

            <div>
                <?php the_post_thumbnail(); ?>
                <h2><a href="<?php the_permalink(); ?>"><?php the_title(); ?></a></h2>
                <p><?php the_excerpt_max_charlength(94); ?>">...</a>
            </div>

            <?php endwhile; ?>
            __________________________________________________________________________________________________________________________________

        72. Dynamizujemy liste w footer-home.php
            ______________________________KOD_________________________________________________________________________________________________
            Dawny kod
            <footer>
                <div class="pos-center">
                    <section class="menu">
                        <ul>
                            <li><a href="#">Pomidor</a></li>
                            <li><a href="#">Pietruszka</a></li>
                            <li><a href="#">Makaron</a></li>
                            <li><a href="#">Warzywa</a></li>
                            <li><a href="#">Kurczak</a></li>
                        </ul>
                        <ul>
                            <li><a href="#">Kuchnia japońska</a></li>
                            <li><a href="#">Włoskie smaki</a></li>
                            <li><a href="#">Hiszpańskie tapas</a></li>
                            <li><a href="#">Kuchnia tajska</a></li>
                            <li><a href="#">Kuchnia francuska</a></li>
                        </ul>
                        <ul>
                            <li><a href="#">Lunch</a></li>
                            <li><a href="#">Przystawka</a></li>
                            <li><a href="#">śniadanie</a></li>
                            <li><a href="#">Obiad</a></li>
                            <li><a href="#">Deser</a></li>
                        </ul>
                    </section>

                    <section class="tag-cloud">
                        <a href='#' title='2 tematy' style='font-size: 16.5px;'>kurczak</a>
                        <a href='#' title='1 temat' style='font-size: 11px;'>makaron</a>
                        <a href='#' title='1 temat' style='font-size: 13px;'>pietruszka</a>
                        <a href='#' title='1 temat' style='font-size: 11px;'>pomidor</a>
                        <a href='#' title='2 tematy' style='font-size: 16.5px;'>sałata</a>
                        <a href='#' title='1 temat' style='font-size: 10px;'>warzywa</a>
                        <a href='#' title='1 temat' style='font-size: 13px;'>pietruszka</a>
                        <a href='#' title='2 tematy' style='font-size: 16.5px;'>kurczak</a>
                        <a href='#' title='1 temat' style='font-size: 11px;'>makaron</a>
                        <a href='#' title='1 temat' style='font-size: 11px;'>pomidor</a>
                        <a href='#' title='2 tematy' style='font-size: 16.5px;'>kurczak</a>
                        <a href='#' title='1 temat' style='font-size: 11px;'>makaron</a>
                        <a href='#' title='1 temat' style='font-size: 13px;'>pietruszka</a>
                    </section>
                </div>
            </footer>

            Nowy kod--------------------------------------------------------------------------------------------------------------------------
            <footer>
                <div class="pos-center">
                    <section class="menu">
                    
                        <?php
                            $taxonomies_list = array('ingredients', 'cousine-type', 'meal-type'); // lista taksonomi
                            foreach($taxonomies_list as $taxonomy) : // wciagamy taksonomie
                                $terms_list = get_terms($taxonomy, array( // get_terms powinna zwrocic nam tablice w ktorej znajudja sie elementy poszczeglonych takosnomi
                                    'orderby'	=> 'count', // zawiezenie wysuzkiwania przez te ktore mja najwicej wpisow
                                    'hide_empy'	=> 0,
                                    'number'	=> 5 // ilosc
                                ));
                        ?>
                        <ul>
                            <?php 
                                foreach($terms_list as $term) : //dla kazdego termu
                                    $url = get_term_link($term->slug, $term->taxonomy); // get_term_link uzyskamy permalink do naszej taksonomi 
                                    $name = ucfirst(mb_strtolower($term->name)); // wyciagamy z term name. Pierwsza litera duza a reszta male
                            ?>
                            <li><a href="<?php echo $url; ?>"><?php echo $name ?></a></li> // poiberamy zmienna url i wyciagamy nazwe
                            <?php endforeach; ?>
                        </ul>
                        <?php endforeach; ?>
                    </section>

                    <section class="tag-cloud">
                        
                        <?php
                        
                            wp_tag_cloud(array( // chmurka tagow
                                'taxonomy' => 'ingredients',
                                'smallest' => 10,
                                'largest' => 16.5,
                                'unit' 	=> 'px' 
                            ));
                        
                        ?>
                        
                    </section>
                </div>
            </footer>
            __________________________________________________________________________________________________________________________________

        74. Przechodzimy do pliku functions.php i dodajemy funkcje
            ______________________________KOD_________________________________________________________________________________________________
            if(function_exists('register_nav_menus')) { // sprawdzamy czy istnieje funkcja register, bedzie mogla wiele menu jednoczesnie
	        	register_nav_menus(array( // przyjmuje tablice w ktorej podajemy klucz nowo dodawanego menu
			    'main_nav' => 'Główne menu nawigacji' // pierwszy klucz main_nav => opis 
		        ));
	            }
            
            __________________________________________________________________________________________________________________________________

        75. Tworzymy menu w wordpress admina
        76. W pliku header wpisujamy nasze menu
            ______________________________KOD_________________________________________________________________________________________________
            Stary kod:
            <div>
                <ul class="menu">
                    <li>
                        <a href="#">Przepisy</a>
                        <ul class="sub-menu">
                            <li><a href="#" title="lunch">Obiad i kolacja</a></li>
                            <li><a href="#" title="breakfast">Śniadanie</a></li>
                            <li><a href="#" title="snacks">Przekąski</a></li>
                            <li><a href="#" title="desserts">Desery</a></li>
                            <li><a href="#" title="drinks">Drinki i Napoje</a></li>
                            <li><a href="#" title="all">Wszystkie</a></li>
                        </ul>
                    </li>
                    <li><a href="#">Restauracje</a></li>
                    <li><a href="#">Food Fight</a></li>
                    <li class="current-menu-item"><a href="#">Blog</a></li>
                    <li><a href="#">Kontakt</a></li>
                </ul>
            </div>    

            Nowy kod--------------------------------------------------------------------------------------------------------------------------
            <?php wp_nav_menu(array(
                'name' => 'Menu Glowne'

            )); ?>    
            __________________________________________________________________________________________________________________________________

        77. Dodawnia do sub menu cos pewnego niz dynamiczna klasa
            -Przypisujemy dla menu tytul
        78. W screen.css dodajemy do stylow tytule ktore dodalismy w wordpress 
            ______________________________KOD_________________________________________________________________________________________________
            body > header nav .sub-menu li.przystawka a{
                background-image: url('../img/submenu-icon-dinner.png');
            }

            body > header nav .sub-menu li.obiad a{
                background-image: url('../img/submenu-icon-bread.png');
            }

            body > header nav .sub-menu li.przekaski a{
                background: url('../img/submenu-icon-snacks.png') 12px 10px no-repeat;
            }

            body > header nav .sub-menu li.drinki a{
                background: url('../img/submenu-icon-desserts.png') 12px 8px no-repeat;
            }

            body > header nav .sub-menu li.bezalkoholowe a{
                background-image: url('../img/submenu-icon-drinks.png');
            }

            body > header nav .sub-menu li.wszystkie{
                margin: 0px;
            }

            body > header nav .sub-menu li.wszystkie a{
                background: #f55b0c;
                padding: 5px 0px 0px;
                height: 26px;
                color: #230e02;
                margin: 0px;
                border: 0px;
                text-align: center;
            }

            body > header nav .sub-menu li.wszystkie a span{
                display: inline-block;
                width: 18px;
                height: 18px;
                background: url('../img/submenu-icon-all.png') no-repeat;
                border: 0px;
                text-indent: -999em;
                position: relative;
                top: 2px;
                margin-left: 5px;
            }
            __________________________________________________________________________________________________________________________________

        79. W folderze scripts.js dodajemy na poczatku dokumentu dany kod odpowiadajacy za dodanie klase "tytul"
            ______________________________KOD_________________________________________________________________________________________________
            $('nav .menu .sub-menu a').each(function() {
		    var $this = $(this);
		    $this.parent().addClass($this.attr('title')); // dodajemy klase
		
		    if($this.attr('title') == 'wszystkie') { // dodajemy strzalke
			    $this.append($('<span/>')); // dodajme kod html 
		    }
		
	        });
            __________________________________________________________________________________________________________________________________

        80. Dodajemy nowe pliki
            -archive-recipes.php
            -sidebar-recipes-archive.php

        81. Kopijumey kod z przepisy-archive.html do archive-recipes.php 
            81a. Instalujemy wtycze "Sticky Custom Post Types"
            81b. Ustaiwnia > Czytanie > Enable support for sticky custom posttypes  i zazanczamy dla recipes 
            81c. Wchodzimy do przpeisu i zaznaczmy go jako stick this to the front page
            ______________________________KOD_________________________________________________________________________________________________
            <?php get_header(); ?>

                        
                        <section id="header" class="recipes-archive">

                            <div class="wooden">
                                <div class="pos-center">

                                    <div class="slides">
                                        <?php // Jesli mamy wiecej niz wiecej niz jedna petle na stronei to uzywamy w_query
                                            $slides_posts = new WP_Query(array( // trzyma jedno zapytanie
                                                'post_type' => 'recipes', // wyciagam z taksonomi przepisow
                                                'post__in'  => get_option('sticky_posts') // wyciagamy parametr korzystajac z funckji get_option('sticky_posts') // chchemy do slidera pobrac tylko dane posty. 
                                            ));
                                        ?>
                                        
                                            <div class="slides">
                                                <?php while($slides_posts->have_posts()) : $slides_posts->the_post(); ?> // jesmi ma psoty to: wyswietlamy te posty
                                                    <div class="item">
                                                        <div>
                                                            <h3><?php the_title(); ?></h3> // dynamiczen naglowki
                                                            <span>Czas przygotowania: <?php printPreparationTime($post->ID); ?></span> // wykorzystujemy wlasna funckje znajdujaca sie w functions.php
                                                            <ul class="difficulty">
                                                                <?php printRanking($post->ID); ?> // z naszego oznaczania trudnosci ("czapeczki")
                                                            </ul>
                                                        </div>
                                                        <img src="<?php echo get_post_meta($post->ID, 'slajd', true); ?>" alt="<?php the_title(); ?>" /> // przekazujemy obrazek ktory sie wyswietla na samej gorzej storny
                                                    </div>
                                                <?php endwhile; ?>
                                            </div>
                                        </div>

                                    </div>
                                </div>

                                <div class="categories">
                                    <div class="pos-center">
                                        <ul>
                                            <li><a class="dinner" href="<?php echo get_term_link('przystawka', 'meal-type') ?>">Przystawki</a></li>
                                            <li><a class="breakfast" href="<?php echo get_term_link('obiad', 'meal-type') ?>">Obiady</a></li>
                                            <li><a class="snacks" href="<?php echo get_term_link('przekaski', 'meal-type') ?>">Przekąski</a></li>
                                            <li><a class="desserts" href="<?php echo get_term_link('drinki-napoje', 'meal-type') ?>">Drinki i Napoje</a></li>
                                            <li class="last"><a class="drinks" href="<?php echo get_term_link('kolacja', 'meal-type') ?>">Kolacje</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <section class="caption">
                                <div class="pos-center">
                                    <div class="left">
                                        <form class="search" method="get" action="#">
                                            <label for="search">Znajdź przepis:</label>
                                            <fieldset>
                                                <input type="text" name="search" id="search" value="" />
                                                <input type="submit" value="" />
                                            </fieldset>
                                        </form>
                                    </div>

                                    <div class="right fridge-form">
                                        <a href="#">Co masz w lodówce?</a>
                                        
                                        <div class="submenu">
                                            <form method="get" action="#" class="transform">
                                                <div class="first">
                                                    <ul>
                                                        <li><label><input type="checkbox" name="first" />Sól</label></li>
                                                        <li><label><input type="checkbox" name="first" />Czosnek</label></li>
                                                        <li><label><input type="checkbox" name="first" />Majeranek</label></li>
                                                        <li><label><input type="checkbox" name="first" />Makaron</label></li>
                                                        <li><label><input type="checkbox" name="first" />Kasza</label></li>
                                                        <li><label><input type="checkbox" name="first" />Majeranek</label></li>
                                                        <li><label><input type="checkbox" name="first" />Sól</label></li>
                                                        <li><label><input type="checkbox" name="first" />Czosnek</label></li>
                                                        <li><label><input type="checkbox" name="first" />Sól</label></li>
                                                        <li><label><input type="checkbox" name="first" />Czosnek</label></li>
                                                        <li><label><input type="checkbox" name="first" />Majeranek</label></li>
                                                        <li><label><input type="checkbox" name="first" />Makaron</label></li>
                                                        <li><label><input type="checkbox" name="first" />Kasza</label></li>
                                                        <li><label><input type="checkbox" name="first" />Majeranek</label></li>
                                                        <li><label><input type="checkbox" name="first" />Sól</label></li>
                                                        <li><label><input type="checkbox" name="first" />Czosnek</label></li>
                                                        <li><label><input type="checkbox" name="first" />Sól</label></li>
                                                        <li><label><input type="checkbox" name="first" />Czosnek</label></li>
                                                        <li><label><input type="checkbox" name="first" />Majeranek</label></li>
                                                        <li><label><input type="checkbox" name="first" />Makaron</label></li>
                                                        <li><label><input type="checkbox" name="first" />Kasza</label></li>
                                                        <li><label><input type="checkbox" name="first" />Majeranek</label></li>
                                                        <li><label><input type="checkbox" name="first" />Sól</label></li>
                                                        <li><label><input type="checkbox" name="first" />Czosnek</label></li>
                                                    </ul>
                                                </div>
                                                <div class="second">
                                                    <div class="section vegetables">
                                                        <h3>Warzywa</h3>
                                                        <ul>
                                                            <li><label><input type="checkbox" name="first" />Sól</label></li>
                                                            <li><label><input type="checkbox" name="first" />Czosnek</label></li>
                                                            <li><label><input type="checkbox" name="first" />Pieprz</label></li>
                                                            <li><label><input type="checkbox" name="first" />Cebula</label></li>
                                                            <li><label><input type="checkbox" name="first" />Curry</label></li>
                                                            <li><label><input type="checkbox" name="first" />Sól</label></li>
                                                            <li><label><input type="checkbox" name="first" />Czosnek</label></li>
                                                            <li><label><input type="checkbox" name="first" />Pieprz</label></li>
                                                            <li><label><input type="checkbox" name="first" />Cebula</label></li>
                                                        </ul>
                                                    </div>

                                                    <div class="section meat">
                                                        <h3>Mięso</h3>
                                                        <ul>
                                                            <li><label><input type="checkbox" name="first" />Majeranek</label></li>
                                                            <li><label><input type="checkbox" name="first" />Bazylia</label></li>
                                                            <li><label><input type="checkbox" name="first" />Cytryna</label></li>
                                                            <li><label><input type="checkbox" name="first" />Majeranek</label></li>
                                                            <li><label><input type="checkbox" name="first" />Bazylia</label></li>
                                                            <li><label><input type="checkbox" name="first" />Cytryna</label></li>
                                                        </ul>
                                                    </div>

                                                    <div class="section fish">
                                                        <h3>Ryby</h3>
                                                        <ul>
                                                            <li><label><input type="checkbox" name="first" />Sól</label></li>
                                                            <li><label><input type="checkbox" name="first" />Czosnek</label></li>
                                                            <li><label><input type="checkbox" name="first" />Pieprz</label></li>
                                                            <li><label><input type="checkbox" name="first" />Cebula</label></li>
                                                            <li><label><input type="checkbox" name="first" />Curry</label></li>
                                                            <li><label><input type="checkbox" name="first" />Sól</label></li>
                                                        </ul>
                                                    </div>

                                                    <div class="section fruits">
                                                        <h3>Owoce</h3>
                                                        <ul>
                                                            <li><label><input type="checkbox" name="first" />Sól</label></li>
                                                            <li><label><input type="checkbox" name="first" />Czosnek</label></li>
                                                            <li><label><input type="checkbox" name="first" />Pieprz</label></li>
                                                            <li><label><input type="checkbox" name="first" />Cebula</label></li>
                                                            <li><label><input type="checkbox" name="first" />Curry</label></li>
                                                            <li><label><input type="checkbox" name="first" />Sól</label></li>
                                                            <li><label><input type="checkbox" name="first" />Czosnek</label></li>
                                                            <li><label><input type="checkbox" name="first" />Pieprz</label></li>
                                                            <li><label><input type="checkbox" name="first" />Cebula</label></li>
                                                            <li><label><input type="checkbox" name="first" />Czosnek</label></li>
                                                            <li><label><input type="checkbox" name="first" />Pieprz</label></li>
                                                            <li><label><input type="checkbox" name="first" />Cebula</label></li>
                                                        </ul>
                                                    </div>

                                                    <div class="section other">
                                                        <h3>Inne</h3>
                                                        <ul>
                                                            <li><label><input type="checkbox" name="first" />Sól</label></li>
                                                            <li><label><input type="checkbox" name="first" />Czosnek</label></li>
                                                            <li><label><input type="checkbox" name="first" />Pieprz</label></li>
                                                            <li><label><input type="checkbox" name="first" />Cebula</label></li>
                                                            <li><label><input type="checkbox" name="first" />Curry</label></li>
                                                            <li><label><input type="checkbox" name="first" />Sól</label></li>
                                                            <li><label><input type="checkbox" name="first" />Czosnek</label></li>
                                                            <li><label><input type="checkbox" name="first" />Pieprz</label></li>
                                                        </ul>
                                                    </div>
                                                </div>

                                                <button>Pokaż przepisy</button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </section>
                            <div class="gradient">
                                <div class="pos-center">&nbsp;</div>
                            </div>
                        </section>

                        <section id="recipes" class="content">
                            <div class="pos-center">
                                <div class="left">

                                    <div class="wrapper">

                                        <section class="entry">
                                            <a href="#"><img src="content/home-slider-1.jpg" alt="home-slider-1" /></a>
                                            <h2><a href="#">Sałatka z chrupiącym indykiem</a></h2>
                                            <div>
                                                <span>34 min</span>
                                                <ul class="difficulty dark">
                                                    <li class="active">&Bumpeq;</li>
                                                    <li class="active">&Bumpeq;</li>
                                                    <li class="active">&Bumpeq;</li>
                                                    <li>&Bumpeq;</li>
                                                </ul>
                                            </div>
                                            <p>Uświetni każdą okazję. Najsłynniejszy i chyba najbardziej lubiany deser świata. Bez piec [...]</p>
                                            <a class="more" href="#">...</a>
                                        </section>

                                        <section class="entry">
                                            <a href="#"><img src="content/home-slider-1.jpg" alt="home-slider-1" /></a>
                                            <h2><a href="#">Sałatka z chrupiącym kurczakiem</a></h2>

                                            <div>
                                                <span>1h 33min</span>
                                                <ul class="difficulty dark">
                                                    <li class="active">&Bumpeq;</li>
                                                    <li class="active">&Bumpeq;</li>
                                                    <li>&Bumpeq;</li>
                                                    <li>&Bumpeq;</li>
                                                </ul>
                                            </div>
                                            <p>Uświetni każdą okazję. Najsłynniejszy i chyba najbardziej lubiany deser świata. Bez piec [...]</p>
                                            <a class="more" href="#">...</a>
                                        </section>

                                        <section class="entry">
                                            <a href="#"><img src="content/home-slider-1.jpg" alt="home-slider-1" /></a>
                                            <h2><a href="#">Sałatka z chrupiącym indykiem</a></h2>
                                            <div>
                                                <span>34 min</span>
                                                <ul class="difficulty dark">
                                                    <li class="active">&Bumpeq;</li>
                                                    <li class="active">&Bumpeq;</li>
                                                    <li class="active">&Bumpeq;</li>
                                                    <li>&Bumpeq;</li>
                                                </ul>
                                            </div>
                                            <p>Uświetni każdą okazję. Najsłynniejszy i chyba najbardziej lubiany deser świata. Bez piec [...]</p>
                                            <a class="more" href="#">...</a>
                                        </section>

                                        <section class="entry">
                                            <a href="#"><img src="content/home-slider-1.jpg" alt="home-slider-1" /></a>
                                            <h2><a href="#">Sałatka z chrupiącym kurczakiem</a></h2>

                                            <div>
                                                <span>1h 33min</span>
                                                <ul class="difficulty dark">
                                                    <li class="active">&Bumpeq;</li>
                                                    <li class="active">&Bumpeq;</li>
                                                    <li>&Bumpeq;</li>
                                                    <li>&Bumpeq;</li>
                                                </ul>
                                            </div>
                                            <p>Uświetni każdą okazję. Najsłynniejszy i chyba najbardziej lubiany deser świata. Bez piec [...]</p>
                                            <a class="more" href="#">...</a>
                                        </section>

                                        <section class="entry">
                                            <a href="#"><img src="content/home-slider-1.jpg" alt="home-slider-1" /></a>
                                            <h2><a href="#">Sałatka z chrupiącym indykiem</a></h2>
                                            <div>
                                                <span>34 min</span>
                                                <ul class="difficulty dark">
                                                    <li class="active">&Bumpeq;</li>
                                                    <li class="active">&Bumpeq;</li>
                                                    <li class="active">&Bumpeq;</li>
                                                    <li>&Bumpeq;</li>
                                                </ul>
                                            </div>
                                            <p>Uświetni każdą okazję. Najsłynniejszy i chyba najbardziej lubiany deser świata. Bez piec [...]</p>
                                            <a class="more" href="#">...</a>
                                        </section>

                                        <section class="entry">
                                            <a href="#"><img src="content/home-slider-1.jpg" alt="home-slider-1" /></a>
                                            <h2><a href="#">Sałatka z chrupiącym kurczakiem</a></h2>

                                            <div>
                                                <span>1h 33min</span>
                                                <ul class="difficulty dark">
                                                    <li class="active">&Bumpeq;</li>
                                                    <li class="active">&Bumpeq;</li>
                                                    <li>&Bumpeq;</li>
                                                    <li>&Bumpeq;</li>
                                                </ul>
                                            </div>
                                            <p>Uświetni każdą okazję. Najsłynniejszy i chyba najbardziej lubiany deser świata. Bez piec [...]</p>
                                            <a class="more" href="#">...</a>
                                        </section>

                                        <section class="entry">
                                            <a href="#"><img src="content/home-slider-1.jpg" alt="home-slider-1" /></a>
                                            <h2><a href="#">Sałatka z chrupiącym indykiem</a></h2>
                                            <div>
                                                <span>34 min</span>
                                                <ul class="difficulty dark">
                                                    <li class="active">&Bumpeq;</li>
                                                    <li class="active">&Bumpeq;</li>
                                                    <li class="active">&Bumpeq;</li>
                                                    <li>&Bumpeq;</li>
                                                </ul>
                                            </div>
                                            <p>Uświetni każdą okazję. Najsłynniejszy i chyba najbardziej lubiany deser świata. Bez piec [...]</p>
                                            <a class="more" href="#">...</a>
                                        </section>

                                        <section class="entry">
                                            <a href="#"><img src="content/home-slider-1.jpg" alt="home-slider-1" /></a>
                                            <h2><a href="#">Sałatka z chrupiącym kurczakiem</a></h2>

                                            <div>
                                                <span>1h 33min</span>
                                                <ul class="difficulty dark">
                                                    <li class="active">&Bumpeq;</li>
                                                    <li class="active">&Bumpeq;</li>
                                                    <li>&Bumpeq;</li>
                                                    <li>&Bumpeq;</li>
                                                </ul>
                                            </div>
                                            <p>Uświetni każdą okazję. Najsłynniejszy i chyba najbardziej lubiany deser świata. Bez piec [...]</p>
                                            <a class="more" href="#">...</a>
                                        </section>

                                        <section class="entry">
                                            <a href="#"><img src="content/home-slider-1.jpg" alt="home-slider-1" /></a>
                                            <h2><a href="#">Sałatka z chrupiącym indykiem</a></h2>
                                            <div>
                                                <span>34 min</span>
                                                <ul class="difficulty dark">
                                                    <li class="active">&Bumpeq;</li>
                                                    <li class="active">&Bumpeq;</li>
                                                    <li class="active">&Bumpeq;</li>
                                                    <li>&Bumpeq;</li>
                                                </ul>
                                            </div>
                                            <p>Uświetni każdą okazję. Najsłynniejszy i chyba najbardziej lubiany deser świata. Bez piec [...]</p>
                                            <a class="more" href="#">...</a>
                                        </section>

                                        <section class="entry">
                                            <a href="#"><img src="content/home-slider-1.jpg" alt="home-slider-1" /></a>
                                            <h2><a href="#">Sałatka z chrupiącym kurczakiem</a></h2>

                                            <div>
                                                <span>1h 33min</span>
                                                <ul class="difficulty dark">
                                                    <li class="active">&Bumpeq;</li>
                                                    <li class="active">&Bumpeq;</li>
                                                    <li>&Bumpeq;</li>
                                                    <li>&Bumpeq;</li>
                                                </ul>
                                            </div>
                                            <p>Uświetni każdą okazję. Najsłynniejszy i chyba najbardziej lubiany deser świata. Bez piec [...]</p>
                                            <a class="more" href="#">...</a>
                                        </section>


                                    </div>

                                    <div class="pagination">
                                        <ul>
                                            <li><a href="#" class="prev page-numbers">«</a></li>
                                            <li><span class="current">1</span></li>
                                            <li><a href="#" class="page-numbers">2</a></li>
                                            <li><a href="#" class="next page-numbers">»</a></li>
                                        </ul>
                                    </div>
                                </div>


                                
                                    <?php get_sidebar('recipes-archive'); ?>
                                       
                            </div>
                        </section>

            <?php get_footer(); ?>
            __________________________________________________________________________________________________________________________________

        82. Wchodizmy do pliku sidebar-recipes-archive.php i piszemy sidebar
            ______________________________KOD_________________________________________________________________________________________________
            <div class="right">
            	<?php dynamic_sidebar('recipes-archive-widgets'); ?> // podpinamy sie do widgetow
            </div> 
            __________________________________________________________________________________________________________________________________

        83. W functions.php piszemy funkcje do zapiswyania czasu przygotwoania potrawy
            ______________________________KOD_________________________________________________________________________________________________
            function printPreparationTime($post_id) { // do ustawiania czasu przygtowania jedzenia 
                $minutes = (int)get_post_meta($post_id, 'czas', true); //wez id posta czas i bedzie zwracac string
                
                if($minutes > 60){ 
                    $hours = floor($minutes/60);
                    $minutes = (int)$minutes-$hours*60;
                    
                    if($minutes > 0){
                        echo "{$hours}h {$minutes}min";
                    }else{
                        echo "{$hours}h";
                    }
                        }else{
                            echo $minutes . ' min';
                        }
                
            }
            __________________________________________________________________________________________________________________________________

        84. W pliku archive-recipes.php modyfikujemy klase entry
            ______________________________KOD_________________________________________________________________________________________________
            <section id="recipes" class="content">
                <div class="pos-center">
                    <div class="left">

                        <div class="wrapper">

                            <?php 

                                if(have_posts()) :

                                while(have_posts()) : the_post();

                            ?>
            					<section id="recipe-<?php the_ID();?>" <?php post_class('entry'); ?>>
                                    <a href="<?php the_permalink(); ?>"><?php the_post_thumbnail(); ?></a>
                                    <h2><a href="<?php the_permalink(); ?>"><?php the_title(); ?></a></h2>
                                    <div>
                                        <span><?php echo printPreparationTime($post->ID); </span>
                                        <ul class="difficulty dark">
                                            <?php printRanking($post->ID); ?>
                                        </ul>
                                    </div>
                                    <p><?php the_excerpt_max_charlength(94); ?></p>
                                    <a class="more" href="<?php the_permalink(); ?>">...</a>
                                </section>

                            <?php endwhile; ?>

                            <?php else: ?>
                                <h4> Nie ma zadnych postow</h4>

                            <?php endif; ?>
                        </div>
                    <div class="pagination">
                        <?php generatePagination(get_query_var('paged'), $loop); ?>
                    </div>
            __________________________________________________________________________________________________________________________________

        85. W pliku archive-recipes.php modyfikujemy przegladarke
            ______________________________KOD_________________________________________________________________________________________________
            <div class="left">
					
					<?php $search = getQuerySingleParam('search'); ?>
					
                        <form class="search" method="get" action="<?php getCurrentPageUrl(); ?>">
                            <label for="search">Znajdź przepis:</label>
                            <fieldset>
                                <input type="text" name="search" id="search" value="<?php echo $search ?>" />
                                <input type="submit" value="" />
                            </fieldset>
                        </form>
                    </div>
            __________________________________________________________________________________________________________________________________

        86. Modyfikujemy nasz loop do wynikow ywszukiwania
            ______________________________KOD_________________________________________________________________________________________________
            section id="recipes" class="content">
            <div class="pos-center">
                <div class="left">


                    <div class="wrapper">
					
					<?php 
				
						$query_params = getQueryParams();
							if(isset($query_params['search'])) {
								$query_params['post_title_like'] = $query_params['search'];
								unset($query_params['search']);
							}

						$loop = new WP_Query($query_params);	
					
						}
						
						if($loop->have_posts()) :
						
						while($loop->have_posts()) : $loop->the_post();
					
					?>
            __________________________________________________________________________________________________________________________________

        87. Edytujemy nasze skaldni co masz w lodowce
        87a. W functions.php piszemy funkcje ktora bedzei gernowac najpopularniejsze taksonomie
            ______________________________KOD_________________________________________________________________________________________________
            	function getTopTaxonomies($taxonomy, $number = 5) { // 5 najbardziej popularnych taksonomi
                    $result = get_terms($taxonomy, array( 
                        'orderby' => 'count', // wysiwetlane te ktora maja najwieksza ilosc postow
                        'hide_empty' => 0, 
                        'number' => $number // liczba wyswietlanych rezultatow z taksonomi  
                    ));
                    
                    return $result;
                }
            __________________________________________________________________________________________________________________________________
        
        87b. W pliku archive-recipes.php modyfikujemy kod co masz w lodowce w pierwszej sekcji
            ______________________________KOD_________________________________________________________________________________________________
            <div class="right fridge-form">
                <a href="#">Co masz w lodówce?</a>
                
                <div class="submenu">
                    <form method="get" action="<?php echo home_url() . '/wyszukiwanie-po-skladnikach/' ?>" class="transform">
                        <div class="first">
                            <ul>
                                <?php
                                    $top_taxonomies = getTopTaxonomies('ingredients', 24);
                                    foreach($top_taxonomies as $taxonomy) :
                                        if($taxonomy->parent != 0) : // Wszystkie kategoire nadrzedene maja status rodzica jest ustawiony na 0. To co ma 0 nie uwzgledniamy
                                ?>
                                <li>
                                    <label>
                                        <input type="checkbox" name="ingredients[<?php echo $taxonomy->slug; ?>]" value="1" /> // wyciagamy z taksonomi nazwe konkretnego skladnika
                                        <?php echo $taxonomy->name; ?> // wysietlamy nazwe taksonomi
                                    </label>
                                </li>
                            <?php
                                endif;
                                endforeach;
                            ?>
                            </ul>
                        </div>
            __________________________________________________________________________________________________________________________________
        
        87c. W pliku functions.php dodajmy funkcje do wyruznienia dzieci i rodzicow
            ______________________________KOD_________________________________________________________________________________________________
            function getHierarchicalTaxonomies($taxonomy) { // przekazujemy parametr takxonomy
                $top_level = get_terms($taxonomy, array( // nazwy np mieso, warzywa itp
                    'parent' => 0, // jesli jest to rodzic
                    'hide_empty' => 0
                ));
                
                $return = array();
                
                foreach($top_level as $tax) { // przechodzimy przez wszystkie nazwy. W top level znajudja sie wszystkie glowne nazwy
                    $tax->childs = get_terms($taxonomy, array( // przypisujemy do kazdej kategoria rodzica wszystkie dzieci
                    'parent' => $tax->term_id, // przypisujemy dzieci do rodzicow
                    'hide_empty' => 0
                ));
                
                $return[$tax->slug] = $tax; // slug klucz tablicy. Uproszczona nazwa
                }
                
                return $return;
            
            }
            __________________________________________________________________________________________________________________________________
        
        87d. W pliku screen.css zmieniame nazwe dla naszych slagow
            ______________________________KOD_________________________________________________________________________________________________
            #header .fridge-form .submenu .mieso{
                width: 230px;
            }

            #header .fridge-form .submenu .owoce{
                width: 115px;
            }

            #header .fridge-form .submenu .ryby{
                width: 115px;
            }

            #header .fridge-form .submenu .warzywa{
                width: 230px;
            }

            #header .fridge-form .submenu .przyprawy{
                width: 230px;
            }
            __________________________________________________________________________________________________________________________________


        87e. W pliku archive-recipes.php modyfiukujemy klase secon
            ______________________________KOD_________________________________________________________________________________________________
            <div class="second">
								
                <?php
                    //dekalrujemy tablice ktora sparuje nazwy css z nazwami slag
                    $cssClass = array(
                        'mieso' => 'mieso',
                        'owoce' => 'owoce',
                        'ryby' => 'ryby',
                        'warzywa' => 'warzywa',
                        'przyprawy' => 'przyprawy'
                    );
                
                    $taxonomies_lists = getHierarchicalTaxonomies('ingredients'); // 
                    
                    foreach($cssClass as $slug=>$css) : // tworzymy petle ktora bedzie iterowac po talibcy cssClas o nazwie slug i jej klassa
                        if(isset($taxonomies_lists[$slug])) : // jesli jest taki slug
                            $tax = $taxonomies_lists[$slug]; // do zmiennej przypisujmy pobrany slug
                ?>
                    <div class="section <?php echo $cssClass[$tax->slug]; ?>"> // i przypisujemy odpowiednia nazwe klasy
                        <h3><?php echo $tax->name; ?></h3> // wyjmujemy nazwe
                        <ul>
                            <?php foreach($tax->childs as $child) : ?> // petla ktora bedzie iterowac po wszystkich dzieciach 
                            <li><label>
                                <input type="checkbox" name="ingredients[<?php echo $child->slug; ?>]" value="1" /><?php echo $child->name; ?> // korzystamy z nazwy ktora jest przypisana dziecku
                                 </label>
                            </li>
                            <?php endforeach; ?>
                        </ul>
                    </div>
                    <?php 
                    endif;
                    endforeach; ?>
                </div>
            __________________________________________________________________________________________________________________________________

        88. Tworzymy nowa strone - szblon do strony wyszukiwania. Tworzymy plik searchpage-recipes.php
            ______________________________KOD_________________________________________________________________________________________________
            <?php
            /*
                Template Name: Wyszukiwanie po skladnikach
            */
            ?>
            __________________________________________________________________________________________________________________________________

        88a. Dodajemy nowa strone w wordpresie - wyszukiwanie po sladnikach
        88b. Przypisujemy jej nasz stworzony szablon
        89. Edytujemy kod w pliku archive-recipes.php
            ______________________________KOD_________________________________________________________________________________________________
            <form method="get" action="<?php echo home_url() . '/wyszukiwanie-po-skladnikach/' ?>" class="transform"> // adres url wypisauje nam cala sciezke a my tylko dodajemy koncowke
            __________________________________________________________________________________________________________________________________

        90. Edytujemy nasz szablon searchpage-recipes.php
            ______________________________KOD_________________________________________________________________________________________________
            <?php
            /*

                Template Name: Wyszukiwanie po składnikach

            */
            ?>


            <?php 

                $search_ingr = true; // ustawiamy flage ktore bedzie pomocna gdy ktos bedzie uzywal wyrzukiwarki

                if(isset($_GET['ingredients'])){
                    $ingredients = array_keys($_GET['ingredients']);
                }else{
                    $ingredients = array();
                }
                
                $loop = new WP_Query(array(
                    'post_type' => 'recipes',
                    'tax_query' => array(
                        array( // zawezamy do konkretnych parametrow
                            'taxonomy' => 'ingredients', // nasze skladniki
                            'field' => 'slug', // zworcimy slag 
                            'terms' => $ingredients // pobrane wszystkie skladniki czyli nasza tablice ingriedents
                        )
                    )
                ));
                
                get_template_part('archive', 'recipes'); // laczymy plik archive-recipes
                
                
            ?>
            __________________________________________________________________________________________________________________________________

        91. Modyfikujemy plik archive-recipes.php
            ______________________________KOD_________________________________________________________________________________________________
            <?php 
					
                global $search_ingr;
                
                if(isset($search_ingr)) {
                    global $loop;// ustawimy globalny loop
                } else { // jesli ktos nie wyszukuje przez lodowke
                
                $query_params = getQueryParams();
                    if(isset($query_params['search'])) {
                        $query_params['post_title_like'] = $query_params['search'];
                        unset($query_params['search']);
                    }

                $loop = new WP_Query($query_params);	
            
                }
                
                if($loop->have_posts()) :
                
                while($loop->have_posts()) : $loop->the_post();
            
            ?>
            __________________________________________________________________________________________________________________________________

        92. Modyfikujemy plik archive-recipes.php z przypisaniem odpowiedniego adresu do wyszukiwania
            ______________________________KOD_________________________________________________________________________________________________
            <form class="search" method="get" action="<?php echo home_url() . '/recipes/' ?>">
                <label for="search">Znajdź przepis:</label>
                <fieldset>
                    <input type="text" name="search" id="search" value="<?php echo $search ?>" />
                    <input type="submit" value="" />
                </fieldset>
            </form>
            __________________________________________________________________________________________________________________________________

        93. W plik archive-recipes.php dodajemy belke do wynikow wyszukiwania
            ______________________________KOD_________________________________________________________________________________________________
                <section id="recipes" class="content">
                <div class="pos-center">
                    <div class="left">
                    <?php  // poczatek dodawnia kodu
                    
                        global $search_ingr;
                        if(isset($search_ingr) || isset($search)) :
                    
                    ?>
                    <h4 class="search-results">Wyniki wyszukiwania:</h4>
                    <?php endif; ?> // koniec dodawnia kodu

                        <div class="wrapper">
                        
                        <?php 
                        
                            global $search_ingr;
                            
                            if(isset($search_ingr)) {
                                global $loop;// ustawimy globalny loop
                            } else { // jesli ktos nie wyszukuje przez lodowke
                            
                            $query_params = getQueryParams();
                                if(isset($query_params['search'])) {
                                    $query_params['post_title_like'] = $query_params['search'];
                                    unset($query_params['search']);
                                }

                            $loop = new WP_Query($query_params);	
                        
                            }
                            
                            if($loop->have_posts()) :
                            
                            while($loop->have_posts()) : $loop->the_post();
                        
                        ?>

                            <section id="recipe-<?php the_ID();?>" <?php post_class('entry'); ?>>
                                <a href="<?php the_permalink(); ?>"><?php the_post_thumbnail(); ?></a>
                                <h2><a href="<?php the_permalink(); ?>"><?php the_title(); ?></a></h2>
                                <div>
                                    <span><?php echo printPreparationTime($post->ID); ?></span>
                                    <ul class="difficulty dark">
                                        <?php printRanking($post->ID); ?>
                                    </ul>
                                </div>
                                <p><?php the_excerpt_max_charlength(94); ?></p>
                                <a class="more" href="<?php the_permalink(); ?>">...</a>
                            </section>
                        
                        <?php endwhile; ?>
                        
                        <?php else: ?>
                        
                            <h4>Nie ma żadnych postów</h4>
                            
                        <?php endif; ?>

                        </div>

                        <div class="pagination">
                            <?php generatePagination(get_query_var('paged'), $loop); ?>
                        </div>
                    </div>
            
                        <?php get_sidebar('recipes-archive'); ?>      
                </div>
            </section>

            <?php get_footer(); ?>
            __________________________________________________________________________________________________________________________________

        94. Tworzymy nowe pliki
        95. W pliku single-recipes.php tworzym kod
            ______________________________KOD_________________________________________________________________________________________________
            <?php get_header(); ?>
	
            <?php the_post(); ?> // mozemy wyciagnac wszystkie informacje

                <section id="header" class="entry">

                    <div class="wooden">
                        <div class="pos-center">
                            <header>
                                <h3><?php the_title(); ?></h3> // dynamizacja naglowka
                                <span>Czas przygotowania: <?php printPreparationTime($post->ID); ?></span>
                                <ul class="difficulty">
                                    <?php printRanking($post->ID);?>
                                </ul>
                            </header>
                        </div>
                    </div>

                    <section class="caption">
                        <div class="pos-center">
                            <div class="left breadcrumbs">                
                            <?php the_post_breadcrumb(); ?>
                            </div>

                            <div class="right">
                                <?php get_search_form(); ?>// zaladuje plik ktory nazywa sieserach-form.php
                            </div>
                        </div>
                    </section>

                    <div class="gradient">
                        <div class="pos-center">&nbsp;</div>
                    </div>
                </section>

                <section id="entry" class="content">
                    <div class="pos-center">
                        <article class="left"> 

                            <?php the_content(); ?>
                            
                            <?php comments_template(); ?>

                        </article>

                        <?php get_sidebar('recipe'); ?> 
                    </div>
                </section>


                <?php get_footer(); ?>
            __________________________________________________________________________________________________________________________________

        94b. sidebar-recipe.php
            ______________________________KOD_________________________________________________________________________________________________
            <div class="right">
                    <section class="overview">
                        <div class="difficulty">
                            Ocena:
                            <ul class="difficulty big">
                                <li class="active">&Bumpeq;</li>
                                <li class="active">&Bumpeq;</li>
                                <li>&Bumpeq;</li>
                                <li>&Bumpeq;</li>
                            </ul>
                        </div>
                        <div class="time middle">Czas: 1h 33min</div>
                        <div class="diet">Dieta: 2341 kcal</div>
                    </section>

                    <section class="ingredients">
                        <h2>Składniki</h2>
                        <a class="print" href="#">Wydrukuj</a>
                        <ul>
                            <li class="chicken">Mięso <span>39 dag</span></li>
                            <li class="soup">Ryby <span>2 szt</span></li>
                            <li class="cake">Warzywa <span>1 szt</span></li>
                            <li class="fish">Makaron <span>3 łyżeczki</span></li>
                            <li class="chicken">Ziemniaki <span>10 g</span></li>
                            <li class="soup">Ryż <span>szczypta</span></li>
                            <li class="cake">Pieczywo <span>39 dag</span></li>
                            <li class="fish">Rzodkiewka <span>2 szt</span></li>
                            <li class="chicken">Por <span>1 szt</span></li>
                            <li class="soup">Seler <span>szczypta</span></li>
                            <li class="cake">Sałata <span>10 g</span></li>
                            <li class="fish">Pomidory <span>39 dag</span></li>
                        </ul>
                    </section>

                    <section class="widget">
                        <h2>Chmurka tagów</h2>
                        <h4>Popularne tematy</h4>
                        <div class="tag-cloud">
                            <a href='#' title='2 tematy' style='font-size: 16.5px;'>kurczak</a>
                            <a href='#' title='1 temat' style='font-size: 11px;'>makaron</a>
                            <a href='#' title='1 temat' style='font-size: 11px;'>pietruszka</a>
                            <a href='#' title='1 temat' style='font-size: 11px;'>pomidor</a>
                            <a href='#' title='2 tematy' style='font-size: 16.5px;'>sałata</a>
                            <a href='#' title='1 temat' style='font-size: 11px;'>warzywa</a> 
                            <a href='#' title='1 temat' style='font-size: 11px;'>pomidor</a>
                            <a href='#' title='2 tematy' style='font-size: 16.5px;'>sałata</a>
                            <a href='#' title='1 temat' style='font-size: 11px;'>warzywa</a>  </div>
                    </section>
                    <section class="widget">
                        <h2>Ostatnio dodane</h2>
                        <h4>Najnowsze restauracje</h4>
                        <ul>
                            <li><a href="#">Sałatka z chrupiącym indykiem</a></li>
                            <li><a href="#">Schab po węgiersku</a></li>
                            <li><a href="#">Sałatka z chrupiącym indykiem</a></li>
                            <li><a href="#">Bagietka francuska</a></li>
                            <li><a href="#">Zapiekanka krakowska</a></li>
                        </ul>
                    </section>

                </div> 
            __________________________________________________________________________________________________________________________________


        94c. searchform.php
            ______________________________KOD_________________________________________________________________________________________________
            <form method="get" action="#" class="search">
                <label for="search">Szukaj</label>
                <fieldset>
                    <input type="text" name="search" id="search" />
                    <input type="submit" value="" />
                </fieldset>
            </form>
            __________________________________________________________________________________________________________________________________

        95. Tworzym funkcje do linkow kateoria w pliku functions.php
            ______________________________KOD_________________________________________________________________________________________________
            function the_post_breadcrumb() {
                global $post;
                
                echo '<a href="'.home_url().'">Główna</a>'; //statyczny link w breadcrum
                
                echo '<span></span>'; // tam bedzie kropka
                
                $post_type_name = get_post_type(); // przechowywujemy nazwe
                $post_type_url = get_post_type_archive_link(get_post_type()); // konkrety url do tego wlasnego typu postow. U nas przepisu
                
                echo '<a href="'.$post_type_url.'">'.ucfirst($post_type_name).'</a>'; // wypisujemy link z naszym post_type_name
                
                $recipe_cats = get_the_terms($post->ID, 'meal-type'); // wyciagmy identyfiaktor i nazwa naszzej taksonomi
                
                echo '<span></span>';
                
                if(count($recipe_cats) > 0 ) { // sprawdzi czy sa jakies kategorie
                    
                    $recipe_meal_type = array_shift(array_values($recipe_cats)); // przekazujemy nasz tablice
                    $term_link = get_term_link($recipe_meal_type->slug, 'meal-type'); // zmienna przechowywujaca nasz link
                    
                    echo '<a href="'.$term_link.'">'.ucfirst($recipe_meal_type->name).'</a>'; // skladamy wszystko
                    
                    echo '<span></span>';
                }	

                the_title(); // nazwa posta w ktorym sie znajdujemy
            }
            __________________________________________________________________________________________________________________________________

        96. Otwieramy i modyfikujemy searchform.php
            ______________________________KOD_________________________________________________________________________________________________
            <form method="get" action="<?php echo get_post_type_archive_link(get_post_type());?>" class="search">
                <label for="search">Szukaj</label>
                <fieldset>
                    <input type="text" name="search" id="search" />
                    <input type="submit" value="" />
                </fieldset>
            </form>
            __________________________________________________________________________________________________________________________________

        97. Dodajemy wlasne pola do sushi
        98. Otwieramy plik sidebar-recips.php i modyfikujemy
            ______________________________KOD_________________________________________________________________________________________________
            <div class="right">
                    <section class="overview">
                        <div class="difficulty">
                            Trudność:
                            <ul class="difficulty big">
                                <?php printRanking($post->ID); ?>
                            </ul>
                        </div>
                        <div class="time middle">Czas: <?php echo printPreparationTime($post->ID); ?></div>
                        <div class="diet">Dieta: <?php echo get_post_meta($post->ID, 'dieta', true); ?> kcal</div> // identyfiaktor posta, konkretna nazwa pola ktora chcemy wyciagnac, true
                    </section>

                    <section class="ingredients">
                        <h2>Składniki</h2>
                        <a class="print" href="#">Wydrukuj</a>
						<?php printRecipeIngredients($post->ID); ?>
					</section>
					
					<?php dynamic_sidebar('recipe-details-widgets'); ?> // dodajemy widget

                </div>   
            __________________________________________________________________________________________________________________________________

        99. Pliku functions.php piszemy nowa funckje
            ______________________________KOD_________________________________________________________________________________________________
	        function getRecipeIngredients($post_id) {
                $ingredients = (string)get_post_meta($post_id, 'skladniki', true); // id posta, nazwa, i zwracamy jako string czyli true
                
                $ing_list = explode("\n", trim($ingredients)); // tablica na skladniki
                
                $return = array();
                
                foreach($ing_list as $row) { // petla wyciagajaca tablice
                    $parts = explode(":", $row); // po kazdym wierszu rozdzielamy przez :
                    $name = trim($parts[0]); // wyciagamy nazwe czyli to co przed przecinkiem i przycinamy wyjmujac indeks 0
                    
                    if(!empty($name)){ // jesli nie podal dwukropka
                        $return[$name] = trim($parts[1]); // wyciagniemy pierwszy indeks
                    }			
                }
                
                return $return;
            }
            
            function printRecipeIngredients($post_id) { // sluzy do wyswietleniea igriedents
	
                $ingredients = getRecipeIngredients($post_id); // Wyciagam funkcji ktora nam to wyciagnie i rozdzieli
                
                echo '<ul>';
                
                if(count($ingredients) < 1) { // jesli bedzie mniej niz jeden to wyswietli brak skaldnikow
                    echo '<li>Brak składników!</li>';
                } else { // jesli dopisze skladniki
                    
                    foreach($ingredients as $name => $value) { // zacznie iterowac po klucz oraz wartosc
                        $css_class = getIngredientCssClass($name); // dodajemy ikonki
                        echo "<li class=\"{$css_class}\">{$name} <span>{$value}</span></li>"; // wypisujemy nazwe a pozniej wartosc
                    }
                    
                }
                
                echo '</ul>';
        
            
            }

                 function getCssClass($item, $type){
                        $item = mb_strtolower($item);
                        
                        $classes_list = array(
                            
                            'chicken' => array(
                                'ingredients' => array('mięso', 'ziemniaki', 'por', 'kurczak', 'inne'),
                                'cousine-type' => array('kuchnia japońska', 'kuchnia polska')
                            ),
                            
                            'soup' => array(
                                'ingredients' => array('ryby', 'ryż', 'seler', 'pomidor', 'owoce'),
                                'cousine-type' => array('włoskie smaki', 'kuchnia tajska')
                            ),
                            
                            'cake' => array(
                                'ingredients' => array('warzywa', 'pieczywo', 'sałata', 'pietruszka', 'warzywa'),
                                'cousine-type' => array('kuchnia francuska')
                            ),
                            
                            'fish' => array(
                                'ingredients' => array('makaron', 'rzodkiewka', 'pomidory', 'mięso', 'ryby'),
                                'cousine-type' => array('hiszpańskie tapas')
                            )
                        );
                        
                        foreach($classes_list as $class => $types_list){
                            if(isset($types_list[$type])){
                                if(in_array($item, $types_list[$type])){
                                    return $class;
                                }
                            }
                        }
                        return '';
                    }
                    
                    function getIngredientCssClass($ingredient){
                        return getCssClass($ingredient, 'ingredients');
                    }
                    
                    function getCousineTypeCssClass($type){
                        return getCssClass($type, 'cousine-type');
                    }
            __________________________________________________________________________________________________________________________________

        100. Tworzymy plik comments.php
            ______________________________KOD_________________________________________________________________________________________________
            <?php
                //funkcje bezpieczeństwa - snippet
                if (!empty($_SERVER['SCRIPT_FILENAME']) && 'comments.php' == basename($_SERVER['SCRIPT_FILENAME']))
                    die('Nie możesz bezpośrednio uruchomić tego pliku.');

                if (post_password_required()) {
                    echo 'Post jest chroniony hasłem. Wprowadź hasło aby zobaczyć komentarze.';
                    return;
                }
                ?>

                <div class="comments">

                        <?php if(!comments_open()) : ?> //sprawdzamy czy komentarze sa aktywne
                        
                        <?php else: ?>
                        
                                        <header>
                                            <h2>Komentarze</h2>
                                            <h3>Co myślą inni?</h3>
                                        </header>

                                        <div class="comments-list">
                                        
                                        <?php if(have_comments()) : ?> // sprawdzamy czy wpis posiada komentarze
                                        
                                            <?php
                                                wp_list_comments(array( // funkcja wywietlajaca komentarze
                                                    'callback' => 'lovetoeat_comment_theme', // callback jest odpwoeidzialny za generwoanie jednego komentarza
                                                    'style' => 'div', // znacnzik domkniety przez wordpressa. Wrdpress domyka automatycznie diva
                                                    'avatar_size' => 69 // awatar
                                                ));
                                            ?>
                                        
                                            
                                        <?php else : ?> // else mowiacy nie ze ma komentarzy
                                        
                                            <p class="no-comments">Ten wpis nie posiada jeszcze żadnych komentrzy.</p>
                                            
                                        <?php endif; ?>
                                        
                                        </div>
                                        <?php if (get_comment_pages_count() > 1 && get_option('page_comments') ) : ?> // sprawdzamy czy sa storny z komentarzami i jest ich wiecej niz jedna
                                        <div class="comments-navi">
                                                <div class="prev"><?php previous_comment_link('Starsze komentarze'); ?></div> // przejscie do komentarzy starszych lub nowszych
                                                <div class="next"><?php next_comment_link('Nowsze komentarze'); ?></div>
                                        </div>
                                        <?php endif; ?>

                                        <div id="respond">
                                        
                                            // sekcja dodawania komentarzy
                                            <header>
                                                <h2>
                                                    <?php comment_form_title('Dodaj komentarz', 'Odpowiedź dla %s'); ?> // dodanie komentarza jako odpowiedzi
                                                    <?php cancel_comment_reply_link('Kliknij tutaj, aby anulować odpowiadanie.'); ?> // anulowanie odpowiadania
                                                </h2>
                                                <h3>Masz jakiś pomysł?</h3>
                                            </header>
                                            
                                        <?php if(get_option('comment_registration') && !is_user_logged_in()) : ?> // Jsli jest wymaga rejestracja do dodawnia komentarzy i jesli nie jest zalgowony to wyswietlamy 
                                        
                                            <p>Musisz się <a href="<?php echo wp_login_url(get_permalink()); ?>">zalogować</a></p> // ze musi sie zalogowac
                                            
                                        <?php else : ?>

                                            <form id="commentform" method="post" action="<?php echo get_option('siteurl'); ?>/wp-comments-post.php"> // zwraca url do naszej storny i odnosmy sie do wp-comments-post.php
                                            
                                            <?php if(is_user_logged_in()) : ?> // jesli jest zalogowany
                                            
                                                <p>Zalogowany jako: <a href="<?php echo get_option('siteurl'); ?>/wp-admin/profile.php"><?php echo $user_identity ?></a>. <a href="<?php echo wp_logout_url(get_permalink()); ?>">Wyjoguj się</a></p> // Jest zalogowany jako ... i moze sie wylogowac
                                            
                                            <?php else : ?>
                                            
                                                <input type="text" name="author" placeholder="Imię i nazwisko"> 
                                                <input type="text" name="email" placeholder="Adres e-mail">
                                                
                                            <?php endif; ?>

                                                <textarea name="comment" placeholder="Treść komentarza"></textarea>
                                                
                                                <?php comment_id_fields(); ?> // komentarz

                                                <button>Wyślij</button>
                                                <?php do_action('comment_form', $post->ID); ?>
                                                
                                            </form>

                                        <?php endif; ?>
                                        </div>
                                    <?php endif; ?>
                                    </div>        
            __________________________________________________________________________________________________________________________________

        100a. W functions.php tworzymy funkcje 
            ______________________________KOD_________________________________________________________________________________________________
            function lovetoeat_comment_theme($comment, $args, $depth) {
                    $GLOBALS['comment'] = $comment;
                    
                    $tag = $args['style']; // reprezentuje tag dla komentarza otwierajacy i zamykajacy
                ?>
                <!-- Generujemy komentarz -->
                    <<?php echo $tag ?> <?php comment_class(empty($args['has_children']) ? '' : 'parent') ?> id="li-comment-<?php comment_ID() ?>"> // jesli parametr has children posiada dzieci to przypisujemy klase parent
                        <div id="div-comment-<?php comment_ID(); ?>" class="inner"> 
                            <?php echo get_avatar($comment, $args[avatar_size]); ?>  // odwoluje sie do avatara. 1. zmienna comment, 2. zmienna rozmiar avatara              
                            <h4>
                            <?php echo get_comment_author_link(); ?>  // autor komentarza
                            <?php echo 'w dniu ' . get_comment_date() . 'o' . get_comment_time() ?> // wypisujemy w dniu o czasie
                            <?php comment_reply_link(array_merge($args, array('depth' => $depth, 'max_depth' => $args['max_depth']))) ?> // funkcja do dodania odpowiedzi do komentarza
                            </h4>
                                <?php comment_text(); ?> // tekst komentarza w akapicie
                                
                                <?php if($comment->comment_approved == '0') : ?> // jesli komenarz nie zostal zatwierdzony wyswietli komunikat
                                    <div class="comment-awaiting-moderation">Twój komentarz oczekuje na moderację!</div>
                                <?php endif; ?>
                        </div>
                <?php
                }
                ?>
            __________________________________________________________________________________________________________________________________

        101. Edytujem jedna z restauracj dodajac wlasne pola w wordpress
            -adres: Torun
            -cena obiadu: 50zl

        102. Tworzymy nowe pliki
        102a. single-restaurant.php
            ______________________________KOD_________________________________________________________________________________________________
            <?php get_header(); ?>
            
            <?php the_post(); ?>

                <section id="header" class="entry">

                    <div class="wooden">
                        <div class="pos-center">
                            <header>
                                <h3><?php the_title(); ?></h3>
                                <span><?php echo get_post_meta($post->ID, 'adres', true); ?></span>
                                <ul class="difficulty">
                                    <?php printRanking($post->ID);?>
                                </ul>
                            </header>
                        </div>
                    </div>

                    <section class="caption">
                        <div class="pos-center">
                            <div class="left breadcrumbs">                
                            <?php the_post_breadcrumb(); ?>
                            </div>

                            <div class="right">
                                <?php get_search_form(); ?>
                            </div>
                        </div>
                    </section>

                    <div class="gradient">
                        <div class="pos-center">&nbsp;</div>
                    </div>
                </section>

                <section id="entry" class="content">
                    <div class="pos-center">
                        <article class="left"> 

                            <?php the_content(); ?>
                            
                            <?php comments_template(); ?>

                        </article>

                        <?php get_sidebar('restaurant'); ?> 
                    </div>
                </section>


                <?php get_footer(); ?>
            __________________________________________________________________________________________________________________________________

        102b. sidebar-restaurant.php
            ______________________________KOD_________________________________________________________________________________________________
            <div class="right">
                    <section class="overview restaurant">
                        <div class="difficulty">
                            Ocena:
                            <ul class="difficulty big">
                                <?php printRanking($post->ID); ?>
                            </ul>
                        </div>
                        <div class="middle">Miasto: <?php echo printRestaurantCity($post->ID); ?></div>
                        <div>Obiad: <?php echo get_post_meta($post->ID, 'cena obiadu', true); ?></div>
                    </section>

                    <input type="hidden" id="gmap-address" value="<?php echo get_post_meta($post->ID, 'adres', true); ?>" /> // typ hidden - niwidoczny, value -dynamicnza wartosc, czyli wartosc wpisana i pozniej jako value
					
					<section class="map"> // wyswietlenie mapy
					
					</section>
				   
					<?php dynamic_sidebar('restaurant-details-widgets'); ?>

                </div>   
            __________________________________________________________________________________________________________________________________

        103. W functions.php zapisujemy funkcje odpowiadajaca za wypisanie restauracji w miastach
            ______________________________KOD_________________________________________________________________________________________________
            function printRestaurantCity($post_id) {
                $cities = get_the_terms($post_id, array('city')); 
            
            if(isset($cities[0])) { // jesli istnieje nazwa miasta
                return $cities[0]->name; // wypisuje nazwe
                }
                
                return NULL; // innaczej null
            }
            __________________________________________________________________________________________________________________________________

        104. Edytujemy kod script.js, wpisujemy funkcje  wyseitlania mapy z prawej storny
            ______________________________KOD_________________________________________________________________________________________________
            	var $rightMapCont = $('.right .map');
                if($rightMapCont.size() > 0){
                    
                    var address = $.trim($('input#gmap-address').val());
                    
                    var geocoder = new google.maps.Geocoder();
                    
                    geocoder.geocode({
                        address: address
                    }, function(results, status){
                        
                        if(status == google.maps.GeocoderStatus.OK){
                            
                            var mapOptions = { 
                                center: results[0].geometry.location, 
                                zoom: 16,
                                mapTypeId: google.maps.MapTypeId.ROADMAP 
                            };

                            var rightMap = new google.maps.Map($rightMapCont.get(0), mapOptions);
                            
                            new google.maps.Marker({
                                position: results[0].geometry.location,
                                map: rightMap
                            });
                            
                        }else{
                            alert("Geocode was not successful for the following reason: " + status);
                        }
                        
                    });
                }
            __________________________________________________________________________________________________________________________________

        105. Nowy plik taxonomy.php
            ______________________________KOD_________________________________________________________________________________________________
            <?php get_header(); ?>
        
                <section id="header">

                    <section class="caption">
                        <div class="pos-center">
                            <h2>Przeglądasz kategorię: <?php echo ucfirst(single_cat_title('', false)); ?></h2> // wordpress z paska wie jaka kategorie wybiera
                        </div>
                    </section>
                    
                    <div class="gradient">
                        <div class="pos-center">&nbsp;</div>
                    </div>
                </section>

                <section id="restaurants" class="content">
                    <div class="pos-center">
                        <div class="left">
                            
                            <div class="wrapper">
                            
                                <?php 
                                    $category_desc = category_description(); // wyciagniecie opisu
                                    if(!empty($category_desc)) :
                                ?>
                                
                                <div class="taxonomy-desc">
                                    <h2><?php echo ucfirst(single_cat_title('', false)); ?></h2> // tytul
                                    <p><?php echo $category_desc; ?></p> // opis
                                </div>
                                
                                <?php endif; ?>
                                
                                <?php if(have_posts()) : ?> // korzystamy z loopa
                                
                                <?php while(have_posts()) : the_post(); ?> // to wyswietlamy posty
                                
                                <section class="entry">
                                    <div class="description width">
                                        <h2><a href="<?php the_permalink(); ?>"><?php the_title(); ?></a></h2> // Tytul restaruacji
                                        <div>
                                            <ul class="difficulty dark">
                                                <?php printRanking($post->ID); ?> // wyswietla ranking
                                            </ul>
                                        </div>
                                        <p><?php the_excerpt_max_charlength(336); ?></p> // skracamy po przez funckcje
                                        <a class="more" href="<?php the_permalink(); ?>">...</a> // dynamiczny link
                                    </div>
                                </section>
                            <?php endwhile; ?> 
                            
                            <?php else : ?>
                            
                                <h4 class="no-entries">Brak postów</h4> 
                                
                            <?php endif; ?>
                                
                            </div>

                            <div class="pagination"> // painacja
                                <ul>
                                    <?php
                                        global $wp_query; // gloablne wp query
                                        echo generatePagination(get_query_var('paged'), $wp_query); // generuje nam paginacje
                                    ?>
                                </ul>
                            </div>
                        </div>

                        <?php get_sidebar(); ?> // sidebar
                    </div>
                </section>

                <? get_footer(); ?>
            __________________________________________________________________________________________________________________________________

        105a. Tworzymy sidebar.php
            ______________________________KOD_________________________________________________________________________________________________
            <div class="right">
				<?php dynamic_sidebar('default-widgets'); ?> // domyslny sidebar z widgetami
            </div>   
            __________________________________________________________________________________________________________________________________

        106. Tworzym plik single.php
            ______________________________KOD_________________________________________________________________________________________________
            <?php get_header(); ?>

            <?php the_post(); ?>

            <section id="header" class="entry">

                <div class="wooden">
                    <div class="pos-center">
                        <header>
                            <h3><?php the_title(); ?></h3>
                        </header>
                    </div>
                </div>

                <section class="caption"></section>
                
                <div class="gradient">
                    <div class="pos-center">&nbsp;</div>
                </div>
            </section>

            <section id="entry" class="content">
                <div class="pos-center">
                    <article class="left">
                        
                        <?php the_content(); ?>
                        
                        <?php the_tags(); ?>

                        <?php comments_template(); ?>

                    </article>

                    <?php get_sidebar(); ?>
                </div>
            </section>


            <?php get_footer(); ?>
            __________________________________________________________________________________________________________________________________

        107. Ustawienia > Czytanie > Twoja statyczna strona 
                Strona > dodaj nowa > home > opublikuj
                    Ustawiamy strone home jako glowna
                    Ustawiam strone blog jako z wpisami

        108. Ze strony index.php wycinamy wszystko i wklejamy do nowego pliku home-content.php i towrzymy szablon
            ______________________________KOD_________________________________________________________________________________________________
                        <?

            /*

            Template Name: Strona Główna

            */

            ?>

            <?php get_header(); ?>
                    
                    <section id="header" class="home-slider">

                        <div class="wooden">
                            <div class="pos-center">
                                
                                <div class="slides">

                                    <div class="item pepers">
                                        <div class="caption">
                                            <h3>Czerwone papryczki!</h3>
                                            <p>
                                                Papryka ostra – ogólna nazwa, jaką określa się owoce niektórych odmian, kultywarów i mieszańców papryki (Capsicum) o bardzo ostrym smaku
                                                <a href="#">Czytaj artykuł</a>
                                            </p>
                                        </div>
                                        <img src="<?php echo site_url(); ?>/wp-content/themes/LoveToEat/content/header-big-peppers1.png" alt="" />
                                    </div>

                                    <div class="item pepers">
                                        <div class="caption">
                                            <h3>Czerwone papryczki!</h3>
                                            <p>
                                                Papryka ostra – ogólna nazwa, jaką określa się owoce niektórych odmian, kultywarów i mieszańców papryki (Capsicum) o bardzo ostrym smaku
                                                <a href="#">Czytaj artykuł</a>
                                            </p>
                                        </div>
                                        <img src="<?php echo site_url(); ?>/wp-content/themes/LoveToEat/content/header-big-peppers2.png" alt="" />
                                    </div>

                                    <div class="item pepers">
                                        <div class="caption">
                                            <h3>Czerwone papryczki!</h3>
                                            <p>
                                                Papryka ostra – ogólna nazwa, jaką określa się owoce niektórych odmian, kultywarów i mieszańców papryki (Capsicum) o bardzo ostrym smaku
                                                <a href="#">Czytaj artykuł</a>
                                            </p>
                                        </div>
                                        <img src="<?php echo site_url(); ?>/wp-content/themes/LoveToEat/content/header-big-peppers3.png" alt="" />
                                    </div>

                                    <div class="item pepers">
                                        <div class="caption">
                                            <h3>Czerwone papryczki!</h3>
                                            <p>
                                                Papryka ostra – ogólna nazwa, jaką określa się owoce niektórych odmian, kultywarów i mieszańców papryki (Capsicum) o bardzo ostrym smaku
                                                <a href="#">Czytaj artykuł</a>
                                            </p>
                                        </div>
                                        <img src="<?php echo site_url(); ?>/wp-content/themes/LoveToEat/content/header-big-peppers4.png" alt="" />
                                    </div>
                                </div>

                                <div class="pagination">
                                    <ul>
                                        <li><a href="#">1</a></li>
                                        <li><a href="#">2</a></li>
                                        <li class="active"><a href="#">3</a></li>
                                        <li><a href="#">4</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <section class="caption quote">
                            <div class="pos-center">
                                <blockquote>
                                    <p>“W gospodarce opartej na wiedzy możemy mieć ciastko, zjeść ciastko i upiec jeszcze trzecie.”</p>
                                </blockquote>
                            </div>
                        </section>

                        <div class="gradient">
                            <div class="pos-center">&nbsp;</div>
                        </div>
                    </section>

                    <section id="home" class="content">
                        <section class="boxes">
                            <div class="pos-center">

                                <section class="box first">
                                    <div class="step1">
                                        <h2>Witaj w lovetoeat!</h2>
                                        <p>Witaj w świecie prawdziwych kulinarnych inspiracji! Jesteśmy pasjonatami dobrego jedzenia i chcemy w pięknej formie podzielić się z Tobą naszymi zainteresowaniami.</p>
                                    </div>
                                </section>

                                <section class="box second">
                                    <div class="step1">
                                        <h2>Przepisy i Dieta</h2>
                                        <p>Na lovetoeat.pl znajdziesz między innymi dziesiątki zdrowych przepisów, które przygotowali dla Ciebie nasi dietetycy. Najlepsze przepisy wyślij znajomym!</p>
                                    </div>
                                    <div class="step2 hidden">
                                        <h2>Ostatnio dodane:</h2>

                                        <?php
                                            
                                            $recipes_query = new WP_Query(array(
                                                'numberposts'		=> 7,
                                                'orderby'			=> 'post_date',
                                                'order'				=> 'DESC',
                                                'post_type'			=> 'recipes',
                                                'post_status'		=> 'publish'
                                            ));
                                            
                                            if($recipes_query->have_posts()) :
                                        ?>
                                        
                                        <ul class="icons-list">
                                            <?php while($recipes_query->have_posts()) : $recipes_query->the_post(); ?>
                                            <li class="chicken"><a href="<?php the_permalink(); ?>"><?php the_title(); ?></a></li>
                                            <?php endwhile; ?>
                                        </ul>	
                                        <a href="#">Wszystkie przepisy</a>
                                        <?php endif; ?>
                                    </div>
                                </section>

                                <section class="box third">
                                    <div class="step1">
                                        <h2>Dobre Restauracje</h2>
                                        <p>Odkryj ciekawe miejsca i dowiedz się, które potrawy warto zjeść w restauracjach, które dla Ciebie recenzujemy. Sprawdź restauracje w których bywają Twoi znajomi.</p>
                                    </div>
                                    <div class="step2 hidden">
                                        <h2>Ostatnio dodane:</h2>
                                        
                                        <?php
                                            
                                            $restaurants_query = new WP_Query(array(
                                                'numberposts'		=> 7,
                                                'orderby'			=> 'post_date',
                                                'order'				=> 'DESC',
                                                'post_type'			=> 'restaurants',
                                                'post_status'		=> 'publish'
                                            ));
                                            
                                            if($recipes_query->have_posts()) :
                                        ?>
                                        
                                        <ul class="icons-list">
                                            <?php while($restaurants_query->have_posts()) : $restaurants_query->the_post(); ?>
                                            <li class="chicken"><a href="<?php the_permalink(); ?>"><?php the_title(); ?></a></li>
                                            <?php endwhile; ?>	
                                        </ul>
                                        <a href="#">Wszystkie</a>
                                        <?php endif; ?>
                                    </div>
                                </section>

                            </div>
                        </section>

                        <section class="food-fight">
                            <div class="pos-center">
                                <header>
                                    <h2>Food Fight</h2>
                                    <h4>Wszystkie pojedynki</h4>
                                </header>
                                
                                <?php $FoodFight = getRandomFoodFight(); ?>

                                <div class="opponent good">
                                <div class="header">
                                        <small>Jedz</small>
                                        to!
                                        </div>
                                        <div class="details">
                                            <?php echo $FoodFight->getDobry()->getWyroznione(); ?>
                                            <small><?php echo $FoodFight->getWyroznij(); ?></small>
                                        </div>
                                        <div class="image">
                                            <img src="<?php echo $FoodFight->getDobry()->getGrafika(); ?>" alt="" />
                                        </div>
                                        <p><?php echo $FoodFight->getDobry()->getNazwa(); ?></p>
                                </div>

                                <div class="opponent bad">
                                    <div class="header">
                                    <small>nie</small>
                                    to!
                                    </div>
                                    <div class="details">
                                        <?php echo $FoodFight->getZly()->getWyroznione(); ?>
                                        <small><?php echo $FoodFight->getWyroznij(); ?></small>
                                    </div>
                                    <div class="image">
                                        <img src="<?php echo $FoodFight->getZly()->getGrafika(); ?>" alt="" />
                                    </div>
                                    <p><?php echo $FoodFight->getZly()->getNazwa(); ?></p>
                                </div>
                            </div>
                        </section>

                        <section class="inspirations">
                            <div class="pos-center">
                                <header>
                                    <h2>Kulinarne inspiracje</h2>
                                    <h4>Zobacz wszystkie artykuły</h4>
                                </header>

                                <div class="slider">
                                    <a class="prev" href="#">&LeftArrow;</a>
                                    <div class="slides-container">
                                        <div class="items">
                                        
                                            <?php 
                                                $recent_recipes_loop = new WP_Query(array(
                                                    'post_type' => 'recipes',
                                                    'posts_per_page' => 6
                                                ));
                                                
                                                while($recent_recipes_loop->have_posts()) :
                                                    $recent_recipes_loop->the_post();
                                            ?>

                                            <div>
                                                <?php the_post_thumbnail(); ?>
                                                <h2><a href="<?php the_permalink(); ?>"><?php the_title(); ?></a></h2>
                                                <p><?php the_excerpt_max_charlength(94); ?></p>
                                                <a class="more" href="<?php the_permalink(); ?>">...</a>
                                            </div>
                                            
                                            <?php endwhile; ?>

                                        </div>
                                    </div>
                                    <a class="next" href="#">&RightArrow;</a>
                                </div>

                            </div>
                        </section>

                        <section class="comments">
                            <div class="pos-center">
                                <header>
                                    <h2>Poznaj opinie innych</h2>
                                    <h4><a href="#">Zobacz wszystkie komentarze</a></h4>
                                </header>

                                <section class="container">
                                    <span class="flyer">&uArr;</span>
                                    
                                    <?php 
                                    
                                        $recent_comms = fetchRecentComments(3);
                                        
                                        foreach ($recent_comms as $comment):
                                            $date = new \DateTime($comment->comment_date_gmt);
                                    
                                    ?>

                                    <section>
                                        <header>
                                            <small><?php echo $comment->comment_author; ?> w dniu <?php echo $date->format('d.m.Y'); ?></small>
                                            <?php echo cutText($comment->post_title, 27) ?>
                                        </header>
                                            <?php echo get_avatar($comment->user_id, 69); ?>
                                        <blockquote>
                                            <?php echo $comment->comment_content; ?>
                                        </blockquote>
                                    </section>
                                    
                                    <?php endforeach; ?>
                                    

                                    <div class="clear"></div>
                                </section>
                            </div>
                        </section>
                    </section>

                    <?php get_footer('home'); ?>
                    
		
            __________________________________________________________________________________________________________________________________

        109. Edytujemy strone home i przypisujemy jej storna glowna
        110. Plix index.php traktujemy jak archiwum
            ______________________________KOD_________________________________________________________________________________________________
            <?php get_header(); ?>

                <section id="header">
                        
                    <div class="slider archive">
                        <div class="pos-center">
                            
                        </div>
                    </div>

                    <section class="caption restaurant">
                        <div class="pos-center">
                            
                            <?php $search = getQuerySingleParam('search'); ?>
                            
                            <form class="search" method="get" action="<?php echo getCurrentPageUrl(); ?>">
                                <label for="search">Znajdź wpis:</label>
                                <fieldset>
                                    <input type="text" name="search" id="search" value="<?php echo $search; ?>" />
                                    <input type="submit" value="" />
                                </fieldset>
                            </form>
                        </div>
                    </section>
                    <div class="gradient">
                        <div class="pos-center">&nbsp;</div>
                    </div>
                </section>

                <section id="restaurants" class="content">
                    <div class="pos-center">
                        
                        <div class="left">
                            
                            <?php if(isset($search)): ?>
                                <h4 class="search-results">Wynik wyszukiwania:</h4>
                            <?php endif; ?>

                            <div class="wrapper">
                                
                                <?php   
                                    $query_params = getQueryParams();
                                    //jak szablonem
                                    $query_params['post_type'] = 'post';
                                    if(isset($query_params['search'])){
                                        $query_params['post_title_like'] = $query_params['search'];
                                        unset($query_params['search']);
                                    }
                                    
                                    $loop = new WP_Query($query_params);
                                ?>
                                
                                <?php if($loop->have_posts()) : ?>
                                
                                    <?php while($loop->have_posts()): $loop->the_post(); ?>
                                    <section class="entry">
                                        <div class="description width">
                                            <h2><a href="<?php the_permalink() ?>"><?php the_title(); ?></a></h2>
                                            <div><?php printPostCategories($post->ID); ?></div>
                                            <p><?php the_excerpt_max_charlength(160); ?></p>
                                            <a class="more" href="<?php the_permalink() ?>">...</a>
                                        </div>
                                    </section>
                                    <?php endwhile; ?>
                                
                                <?php else: ?>
                                
                                    <h4 class="no-entries">Brak wpisów</h4>
                                    
                                <?php endif; ?>
                                
                            </div>

                            <div class="pagination">
                                <?php echo generatePagination(get_query_var('paged'), $loop); ?>
                            </div>
                            
                        </div>

                        
                    <?php get_sidebar(); ?>
                        
                    </div>
                </section>

                <?php get_footer(); ?>
            __________________________________________________________________________________________________________________________________

        111. Tworzymy plik page.php
            ______________________________KOD_________________________________________________________________________________________________
            <?php get_template_part('single'); ?> // wczyta nam plik single.php
            __________________________________________________________________________________________________________________________________

        112. Kontakt > opcja ekrnau > zaznaczamy dyskusja > odznaczamy komentarze
        113. Twozymy plik 404.php
            ______________________________KOD_________________________________________________________________________________________________
    		<?php get_header(); ?>

            <section id="error404" class="content">
                <div class="pos-center">
                    
                    <div class="wrapper">
                        <div class="code">404</div>
                        <div class="message">
                            <h2>Przykro nam, ale strona której szukasz nie istnieje...</h2>
                            <a href="<?php echo esc_url(home_url('/')); ?>">Przejdź do strony głównej</a> // dynamizujemy link do strony glownej
                        </div>
                    </div>
                    
                </div>
            </section>


            <?php get_footer(); ?>
            __________________________________________________________________________________________________________________________________

        114. W home-content.php linkujemy sciezke do obrazkow (kazdy obrazek)
            ______________________________KOD_________________________________________________________________________________________________
            <img src="<?php echo site_url(); ?>/wp-content/themes/LoveToEat/content/header-big-peppers1.png" alt="" />
            
            __________________________________________________________________________________________________________________________________

        115. W wordpress wchodzimy do foodfights > dodaj nowy pojedynek
                Wpisujemy Kielbaska vs Karkowka
                Dodajemy opis
                Dodajemy wlasne pola
                    ff.dane.wyroznij    Kalorie
                    ff.dobry.dane       Kalorie: 600
                                        Bialko: 10
                                        Weglowodany: 2
                                        Tluszcz: 3
                                        Kw. Nas: 1.8
                                        Kw. trans 2.1
                    ff.zly.dane         Kalorie: 600
                                        Bialko: 10
                                        Weglowodany: 2
                                        Tluszcz: 3
                                        Kw. Nas: 1.8
                                        Kw. trans 2.1
                    ff.dobry.grafika    #
                    ff.zly.grafika      #
                    ff.dobry.nazwa      Produkt 1
                    ff.zly.nazwa        Produkt 2
                Ustawiamy ikonke wpisu
                POUBLIKUJ

        116. Tworzymy plik w libs FoodFight_Item.php
            ______________________________KOD_________________________________________________________________________________________________
            <?php

                class FoodFight_Item{ // deklarujemy klase
                    //pola dla klas
                    private $foodfight;
                    private $dane;
                    private $nazwa;
                    private $grafika;

                        function __construct(FoodFight $foodfight, $dane, $nazwa, $grafika) { // konstruktor
                            $this->foodfight = $foodfight; // przypisanie
                            $this->nazwa = $nazwa;
                            $this->grafika = $grafika;
                            
                            $this->dane = array(); // wygeruje 
                                if(!empty($dane)){
                                    $dane_rows = explode("\n", $dane); 
                                    foreach($dane_rows as $row){
                                        $parts = explode(':', $row); // rozdzielamy po dwukropku
                                        $this->dane[trim($parts[0])] = trim($parts[1]);
                                    }
                                }
                        }
                                
                        public function getDane() { // zwraca dane
                            return $this->dane;
                        }
                
                        public function getNazwa() { // nazwe
                            return $this->nazwa;
                        }

                        public function getGrafika() { // grafike
                            return $this->grafika;
                        }
                        
                        public function getWyroznione(){
                            $wyroznij = $this->foodfight->getWyroznij();
                            if(isset($this->dane[$wyroznij])){
                                return $this->dane[$wyroznij];
                            }

                            return NULL;
                        }

                }

            ?>
            __________________________________________________________________________________________________________________________________

        116a. W functions.php podpinamy pliki
            ______________________________KOD_________________________________________________________________________________________________
            require_once LOVETOEAT_THEME_DIR.'libs/FoodFight.php';
            require_once LOVETOEAT_THEME_DIR.'libs/FoodFight_Item.php';

            // pod koniec pliku wstawiamy funkcje
            function getFoodFight($post_id) {
            
                $post_id = (int)$post_id;
                global $wpdb;
                
                $post_row = $wpdb->get_row(" // wyciagamy dane z bazy
                    SELECT *
                    FROM {$wpdb->posts}
                    WHERE ID = {$post_id}
                ");
                
                if(empty($post_row->ID)) {
                    return NULL;
                }
            
                $FoodFight = new FoodFight($post_row); // przekazujemy wszystkie dane z foodfight
                return $FoodFight;
            
            }

            __________________________________________________________________________________________________________________________________
        
        116b. Tworzymy plik w libs FoodFight.php
            ______________________________KOD_________________________________________________________________________________________________
            <?php

                class FoodFight{
                
                    private $tytul;
                    private $tresc;
                    private $wyroznij;
                    private $dobry;
                    private $zly;
                    
                    function __construct($post_row) {
                    
                        $this->tytul = $post_row->post_title; // tutyl posta 
                        $this->wyroznij = get_post_meta($post_row->ID, 'ff.dane.wyroznij', TRUE); // dane wyroznij
                        $this->tresc = $post_row->post_content; // wyciagamy pole content
                        
                        $this->dobry = new FoodFight_Item( // wyciagamy z dobrego
                                $this,
                                get_post_meta($post_row->ID, 'ff.dobry.dane', TRUE), // dane
                                get_post_meta($post_row->ID, 'ff.dobry.nazwa', TRUE), // nazwa
                                get_post_meta($post_row->ID, 'ff.dobry.grafika', TRUE) // grafike
                            );
                            
                        $this->zly = new FoodFight_Item( // to samo co z dobrego tyle ze jest dla zlego
                                $this,
                                get_post_meta($post_row->ID, 'ff.zly.dane', TRUE),
                                get_post_meta($post_row->ID, 'ff.zly.nazwa', TRUE),
                                get_post_meta($post_row->ID, 'ff.zly.grafika', TRUE)
                            );
                    
                    }
                    
                    public function getTytul($part = 0) { // wypisujemy tytul naszej bitwy i umieszczenie ich na stronie
                        $part = (int)$part;
                        if($part == 1 || $part == 2){
                            $tmp = explode('vs', $this->tytul);
                            return trim($tmp[$part-1]);
                        }
                        return $this->tytul;
                    }
                    
                    public function getWyroznij() { // zwracamy wyroznij
                    return $this->wyroznij;
                    }

                    public function getDobry() { // zwracamy dobrego
                        return $this->dobry;
                    }

                    public function getZly() { // zwracamy zlego
                        return $this->zly;
                    }
                    
                    public function getTresc() { // zwracamy tresc
                        return $this->tresc;
                    }
                
                
                }

            ?>
            __________________________________________________________________________________________________________________________________
        
        116c. Tworzymy plik archive-foodfight.php
            ______________________________KOD_________________________________________________________________________________________________
            <?php get_header('foodfight'); ?>

                <div id="archive">

                    <?php	// odpowiedzialne za stworzenie loopa
                        $query_params = getQueryParams(); // parametry
                        $query_params['posts_per_page'] = 8; // ile postow wysietlonych
                        
                        $loop = new WP_Query($query_params); 
                                
                        while($loop->have_posts()):  // jesli sa posty
                            $loop->the_post();
                                
                            $title = explode('vs', get_the_title()); // tytul rozdizelany przez vs
                    ?>
                        // wyswietlenie pojedynczych kafelkow
                        <a href="<?php the_permalink(); ?>" id="fight-<?php the_ID(); ?>" <?php post_class(); ?>>
                            <section class="fight">
                                <header> 
                                    <h2 class="left"><?php echo trim($title[0]); ?></h2> // indeks z piewszego tytulu i pakujemy do h2
                                    <h2 class="right"><?php echo trim($title[1]); ?></h2>
                                </header>
                                <?php the_post_thumbnail(); ?> // miniaturka
                            </section>
                        </a>

                    <?php endwhile; ?>
                </div>

                <a class="nav left" href="<?php echo previous_posts(TRUE); ?>">&lAarr;</a> // wyswietlenie strzalki lewej
                <a class="nav right" href="<?php echo next_posts($loop->max_num_pages, TRUE); ?>">&rAarr;</a> //wyswietlenie strzalki prawej
                    
            <?php get_footer('foodfight'); ?>
            __________________________________________________________________________________________________________________________________

        116d. Tworzymy plik single-foodfight.php
            ______________________________KOD_________________________________________________________________________________________________
            <?php get_header('foodfight'); ?>

            <?php 
                the_post(); // wordpress pobral info do petli
                $FoodFight = getFoodFight($post->ID); // wykorzystanie kalsy food fight
            ?>

            <script>var IMG_URL = '<?php echo LOVETOEAT_THEME_URL.'img/'; ?>';</script> // znajdujemy dobra sciezke do ktalogu image
        

            <a class="nav left" href="<?php echo get_permalink(get_adjacent_post(false,'',true)); ?>">&lAarr;</a> //linki w nawigacji. strzalka w lewo. get adjacent post - post ktory jest poprzednikiem albo nastepnikiem po naszym poscie
            <a class="nav right" href="<?php echo get_permalink(get_adjacent_post(false,'',false)); ?>">&lAarr;</a> // false - nastepny, pusty lub true - poprzedni

            // naglowki z indeksem pierwszym i drugim
            <div id="details">
                <header>
                    <h2 class="left"><span><?php echo $FoodFight->getTytul(1); ?></span></h2>
                    <h2 class="right"><span><?php echo $FoodFight->getTytul(2); ?></span></h2>
                </header>

                //timer
                <div class="timer">
                    <div class="left">
                        <img src="<?php echo LOVETOEAT_THEME_URL.'img/'; ?>/counter_0.png" />
                    </div>
                    <div class="right">
                        <img src="<?php echo LOVETOEAT_THEME_URL.'img/'; ?>/counter_3.png" />
                    </div>
                </div>

                /chmurka tagow
                <div class="tags">
                    <?php
                        wp_tag_cloud(array(
                            'taxonomy' => 'ingredients',
                            'smallest' => 11,
                            'largest' => 16.5,
                            'unit' => 'px'
                        ));
                    ?>
                </div>

                // tresc w info
                <div class="info">
                    <div class="wrapper">
                        <div class="content">
                            <?php echo $FoodFight->getTresc(); ?>
                        </div>
                    </div>
                </div>

                // przeciwnik dobry
                <section class="opponent good">
                    <div class="header">
                        <small>Jedz</small>
                        to!
                    </div>
                    <div class="details">
                        <?php echo $FoodFight->getDobry()->getWyroznione(); ?>
                        <small><?php echo $FoodFight->getWyroznij(); ?></small>
                    </div>
                    <div class="image">//pobieamy obrazek
                        <div>?</div>
                        <img src="<?php echo $FoodFight->getDobry()->getGrafika(); ?>" alt="" />
                    </div>
                    <p><?php echo $FoodFight->getDobry()->getNazwa(); ?></p>
                    <ul>
                        <?php foreach($FoodFight->getDobry()->getDane() as $label=>$value): ?>
                        <li><?php echo $label; ?> <span><?php echo $value; ?></span></li>
                        <?php endforeach; ?>
                    </ul>
                </section>

                <section class="opponent bad">
                    <div class="header">
                        <small>nie</small>
                        to!
                    </div>
                    <div class="details">
                        <?php echo $FoodFight->getZly()->getWyroznione(); ?>
                        <small><?php echo $FoodFight->getWyroznij(); ?></small>
                    </div>
                    <div class="image">
                        <div>?</div>
                        <img src="<?php echo $FoodFight->getZly()->getGrafika(); ?>" alt="" />
                    </div>
                    <p><?php echo $FoodFight->getZly()->getNazwa(); ?></p>
                    <ul>
                        <?php foreach($FoodFight->getZly()->getDane() as $label=>$value): ?>
                        <li><?php echo $label; ?> <span><?php echo $value; ?></span></li>
                        <?php endforeach; ?>
                    </ul>
                </section>  
            </div>


            <?php get_footer('foodfight'); ?>
            __________________________________________________________________________________________________________________________________

        116e. Tworzymy plik fod-ight.js w katalogu js
            ______________________________KOD_________________________________________________________________________________________________
            $(document).ready(function(){
                
                var $infoContent = $('#details .info .content');
                
                $('#details .info .content')
                    .css({
                        height: $('#details .info .content').height(),
                        top: ($('#details .info .content').height()/2)*-1
                    }); 
                    
                    
                var i = 3;
                var interval = setInterval(function(){
                    
                    $('#details .timer .right img').attr('src', IMG_URL+'counter_'+i+'.png');
                    
                    i--;
                    
                    if(i < 0){
                        clearInterval(interval);
                        $('#details .timer img').attr('src', IMG_URL+'counter_fist.png');
                        runAnimation();
                        
                    }
                    
                }, 1000);
                
                
                
                
                
                $('#details header').hide();
                var $header = $('#details header h2');
                $header.each(function(){
                    var $this = $(this);
                    var $span = $this.find('span');
                    var spanWidth = $span.width();
                    
                    if($this.hasClass('left')){
                        $span.css('left', spanWidth*-1);
                    }else{
                        $span.css('right', spanWidth*-1);
                    }
                    $span.css('opacity', 0);
                });
                
                
                $('.opponent').each(function(){
                    
                    var $this = $(this);
                    
                    var hideCss = {};
                    if($this.hasClass('good')){
                        hideCss = {
                            header: {
                                top: '30px',
                                left: '30px'
                            },
                            details: {
                                right: '0px'
                            }
                        }
                    }else{
                    hideCss = {
                            header: {
                                top: '30px',
                                right: '30px'
                            },
                            details: {
                                left: '0px'
                            }
                        } 
                    }

                    $this.find('.header').css(hideCss.header);

                    $this.find('.details').css(hideCss.details);

                    $this.find('img').hide();
                    $this.find('p').hide();
                    $this.find('ul').hide();

                });    
                
                
                $('#details .info, #details .tags').hide();
                
                
                
                function runAnimation(){

                    //show header
                    $('#details header').fadeIn('medium');
                    
                    var headerCount = 0;
                    $header.each(function(){
                        var $this = $(this);
                        var $span = $this.find('span');
                        var spanWidth = $span.width();
                        var animOpts = {};

                        if($this.hasClass('left')){
                            animOpts = {right: '0px'};
                        }else{
                            animOpts = {left: '0px'};
                        }
                        animOpts.opacity = 1;
                        
                        $span.animate(animOpts, 'slow', function(){
                            headerCount++;
                            if(headerCount == 2){

                                $('.opponent').each(function(){

                                    var $this = $(this);

                                    var animOpts = {};
                                    if($this.hasClass('good')){
                                        animOpts = {
                                            header: {
                                                top: '-30px',
                                                left: '-30px'
                                            },
                                            details: {
                                                right: '-70px'
                                            }
                                        }
                                    }else{
                                    animOpts = {
                                            header: {
                                                top: '-30px',
                                                right: '-30px'
                                            },
                                            details: {
                                                left: '-70px'
                                            }
                                        } 
                                    }

                                    $this.find('.header').animate(animOpts.header, 'medium');

                                    $this.find('.details').animate(animOpts.details, 'medium');

                                    $this.find('.image div').fadeOut('medium');
                                    $this.find('.image img').fadeIn('medium', function(){
                                        $this.find('p').fadeIn('medium', function(){
                                            $this.find('ul').slideDown('medium', function(){
                                                $('#details .info, #details .tags').delay(200).fadeIn('slow');
                                            });
                                        });

                                    });
                                });

                            }
                        });
                    });
                    
                    
                }
            });
            __________________________________________________________________________________________________________________________________

        116f. Tworzymy plik footer-foodfight.php - gdybysmy chcieli kiedys tam cos wrzucic
            ______________________________KOD_________________________________________________________________________________________________
                </body>
            </html>
            __________________________________________________________________________________________________________________________________

        116g. Tworzymy plik header-foodfight.php
            ______________________________KOD_________________________________________________________________________________________________
            <!DOCTYPE html>
            <html <?php language_attributes(); ?>>
                <head>
                    <meta charset="<?php bloginfo('charset'); ?>" />

                    <?php if (is_search()): ?>
                        <meta name="robots" content="noindex, nofollow" /> 
                    <?php endif; ?>

                    <title>
                    
                        <?php
                            //echo bloginfo('name');
                            //echo wp_title();
                            
                            if(is_archive()) {
                                echo ucfirst(trim(wp_title('', false))) . ' - ';
                            } else
                            
                            if(!(is_404()) && (is_single()) || (is_page())) {
                                $title = wp_title('', false);
                                if(!empty($title)) {
                                    echo $title . ' - ';
                                }
                            } else
                            
                            if(is_404()) {
                                echo 'Nie znaleziono strony';
                            }
                            
                            if(is_home()) {
                                bloginfo('name');
                                echo ' - ';
                                bloginfo('description');
                            } else {
                                echo bloginfo('name');
                            }
                            
                            global $paged;
                            if($paged > 1) {
                                echo ' - strona ' . $paged;
                            }
                            
                        ?>
                    
                    </title>

                    <link rel="shortcut icon" href="/favicon.ico">

                    <link rel="stylesheet" href="<?php bloginfo('stylesheet_url'); ?>">
                    <link rel="stylesheet" href="<?php echo LOVETOEAT_THEME_URL; ?>/css/reset.css">
                    <link rel="stylesheet" href="<?php echo LOVETOEAT_THEME_URL; ?>/css/common.css">
                    <link rel="stylesheet" href="<?php echo LOVETOEAT_THEME_URL; ?>/css/food-fight.css">

                    <link rel="pingback" href="<?php bloginfo('pingback_url'); ?>">

                    <!--[if lt IE 9]>
                    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
                    <![endif]-->

                    <?php wp_head(); ?>

                    <script src="<?php echo LOVETOEAT_THEME_URL; ?>/js/jquery-1.9.1.min.js"></script>
                    <script src="<?php echo LOVETOEAT_THEME_URL; ?>/js/food-fight.js"></script>
                </head>
                
                <body <?php body_class(); ?>>
            __________________________________________________________________________________________________________________________________

        116h. Dodajemy obrazki do food fight w wordpress gdzie wczesniej dalismy #
        117. Zmieniamy tytul witryny na LoveToEat
        117a. W header.php dynamizujemy tytul naszej stony
            ______________________________KOD_________________________________________________________________________________________________
            <title>
		
                <?php
                    //echo bloginfo('name');
                    //echo wp_title(); - wysiwetla tytul w zaleznosci na jakiej stronie sie znajdujemy
                    
                    //czy jestesmy na strnie archiwum
                    if(is_archive()) {
                        echo ucfirst(trim(wp_title('', false))) . ' - '; // wypisujemy  tytul - i nazwa z blog info
                    } else
                    
                    // czy jestesmy na stronie innej niz 404 jak rowniez strony single lub page
                    if(!(is_404()) && (is_single()) || (is_page())) {
                        $title = wp_title('', false);
                        if(!empty($title)) { // jesli posiada tytul to dodaj tytul 
                            echo $title . ' - ';
                        }
                    } else
                    
                    // Jesli strona 404
                    if(is_404()) {
                        echo 'Nie znaleziono strony';
                    }
                    
                    // jesli strona bloga
                    if(is_home()) {
                        bloginfo('name'); // wyswietlimy name
                        echo ' - ';
                        bloginfo('description'); // opis podany w wordpresie
                    } else {
                        echo bloginfo('name'); // nasze blog info name
                    }
                    
                    global $paged; // dopisujemy jesli ma paginacje numer strony
                    if($paged > 1) {
                        echo ' - strona ' . $paged;
                    }
                    
                ?>
            
            </title>
            __________________________________________________________________________________________________________________________________

        118. W pliku home-content.php namierzamy food-fight i edytujemy
            ______________________________KOD_________________________________________________________________________________________________
            <section class="food-fight">
                <div class="pos-center">
                    <header>
                        <h2>Food Fight</h2>
                        <h4>Wszystkie pojedynki</h4>
                    </header>
					
					<?php $FoodFight = getRandomFoodFight(); ?> // funkcja

                    <div class="opponent good">
                       <div class="header">
							<small>Jedz</small>
							to!
							</div>
							<div class="details">
								<?php echo $FoodFight->getDobry()->getWyroznione(); ?>
								<small><?php echo $FoodFight->getWyroznij(); ?></small>
							</div>
							<div class="image">
								<img src="<?php echo $FoodFight->getDobry()->getGrafika(); ?>" alt="" />
							</div>
							<p><?php echo $FoodFight->getDobry()->getNazwa(); ?></p>
                    </div>

                    <div class="opponent bad">
                        <div class="header">
						<small>nie</small>
						to!
						</div>
						<div class="details">
							<?php echo $FoodFight->getZly()->getWyroznione(); ?>
							<small><?php echo $FoodFight->getWyroznij(); ?></small>
						</div>
						<div class="image">
							<img src="<?php echo $FoodFight->getZly()->getGrafika(); ?>" alt="" />
						</div>
						<p><?php echo $FoodFight->getZly()->getNazwa(); ?></p>
                    </div>
                </div>
            </section>
            __________________________________________________________________________________________________________________________________

        119. W functions.php inicjalizujemy funkcje
            ______________________________KOD_________________________________________________________________________________________________
            function getRandomFoodFight() {
                
                    global $wpdb;
                    
                    $post_row = $wpdb->get_row("
                        SELECT *
                        FROM {$wpdb->posts}
                        WHERE post_type = 'foodfight' AND post_status = 'publish' // posty wszystkei z foodfight i posty opublikowane
                        ORDER BY rand() // porzadkownaie randomowe
                        LIMIT 1 // jeden wynik nam zwroci
                    ");
                    
                    if(empty($post_row->ID)) {
                        return NULL;
                    }
                
                    $FoodFight = new FoodFight($post_row);
                    return $FoodFight;
                
                }

                
                
                
                
            ?>
            __________________________________________________________________________________________________________________________________

        120. Instalujemy wtyczke Quick Contact Form
                Ustawienia > Quick kontkat > ustalamy nowy formularz dla kontkatu
                Dodajemy do strony kontakt link
                    [qcf id="Kontakt"]

        121. Przezucamy plugin LTE-home-slider
                Wlaczamy plugin

        122. Dodanie wordpressa do seriwsu hostingowego
                1. Towrzymy baze danych
                2. Przechodizmy do bazy danych 
                3. Eksportujemy baze danych
                4. Importujemy baze danych na hosting
                5. Kopijuemy pliki do serwera ftp
                    Do public_html
                6. Edytujemy plik wp-config 
                    Edytujemy wszystkie dane do bazy danych ktore sa teraz na naszym hostingu


-------------------------------------------------------------------------------------------------
_________________________________________________________________________________________________
